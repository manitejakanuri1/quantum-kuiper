[{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\app\\admin\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Check' is defined but never used. Allowed unused vars must match /^_/u.","line":4,"column":46,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":51},{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`loadAgents` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\nC:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\app\\admin\\page.tsx:41:9\n  39 |     // Load agents on mount\n  40 |     useEffect(() => {\n> 41 |         loadAgents();\n     |         ^^^^^^^^^^ `loadAgents` accessed before it is declared\n  42 |     }, []);\n  43 |\n  44 |     // Load existing Q&A when agent changes\n\nC:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\app\\admin\\page.tsx:51:5\n  49 |     }, [selectedAgent]);\n  50 |\n> 51 |     const loadAgents = async () => {\n     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 52 |         try {\n     | ^^^^^^^^^^^^^\n> 53 |             const res = await fetch(`${RAG_API}/api/agents`);\n     ΓÇª\n     | ^^^^^^^^^^^^^\n> 61 |         }\n     | ^^^^^^^^^^^^^\n> 62 |     };\n     | ^^^^^^^ `loadAgents` is declared here\n  63 |\n  64 |     const loadExistingQA = async () => {\n  65 |         try {","line":41,"column":9,"nodeType":null,"endLine":41,"endColumn":19},{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`loadExistingQA` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\nC:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\app\\admin\\page.tsx:47:13\n  45 |     useEffect(() => {\n  46 |         if (selectedAgent) {\n> 47 |             loadExistingQA();\n     |             ^^^^^^^^^^^^^^ `loadExistingQA` accessed before it is declared\n  48 |         }\n  49 |     }, [selectedAgent]);\n  50 |\n\nC:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\app\\admin\\page.tsx:64:5\n  62 |     };\n  63 |\n> 64 |     const loadExistingQA = async () => {\n     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 65 |         try {\n     | ^^^^^^^^^^^^^\n> 66 |             const res = await fetch(`${RAG_API}/api/qa/${selectedAgent}`);\n     | ^^^^^^^^^^^^^\n> 67 |             const data = await res.json();\n     | ^^^^^^^^^^^^^\n> 68 |             setExistingQA(data.qa_pairs || []);\n     | ^^^^^^^^^^^^^\n> 69 |         } catch (error) {\n     | ^^^^^^^^^^^^^\n> 70 |             console.error('Failed to load Q&A:', error);\n     | ^^^^^^^^^^^^^\n> 71 |         }\n     | ^^^^^^^^^^^^^\n> 72 |     };\n     | ^^^^^^^ `loadExistingQA` is declared here\n  73 |\n  74 |     const handleCrawl = async () => {\n  75 |         if (!websiteUrl || !selectedAgent) return;","line":47,"column":13,"nodeType":null,"endLine":47,"endColumn":27},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'loadExistingQA'. Either include it or remove the dependency array.","line":49,"column":8,"nodeType":"ArrayExpression","endLine":49,"endColumn":23,"suggestions":[{"desc":"Update the dependencies array to be: [loadExistingQA, selectedAgent]","fix":{"range":[1485,1500],"text":"[loadExistingQA, selectedAgent]"}}]},{"ruleId":"@next/next/no-html-link-for-pages","severity":2,"message":"Do not use an `<a>` element to navigate to `/`. Use `<Link />` from `next/link` instead. See: https://nextjs.org/docs/messages/no-html-link-for-pages","line":428,"column":21,"nodeType":"JSXOpeningElement","endLine":431,"endColumn":22}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { Loader2, Globe, Save, Trash2, Play, Check, RefreshCw } from 'lucide-react';\r\n\r\ninterface QAPair {\r\n    id?: string;\r\n    question: string;\r\n    spoken_response: string;\r\n    keywords: string[];\r\n    priority: number;\r\n}\r\n\r\ninterface Agent {\r\n    id: string;\r\n    name: string;\r\n    website_url?: string;\r\n    status: string;\r\n}\r\n\r\nconst RAG_API = 'http://localhost:8000';\r\n\r\nexport default function AdminPage() {\r\n    const [agents, setAgents] = useState<Agent[]>([]);\r\n    const [selectedAgent, setSelectedAgent] = useState<string>('');\r\n    const [websiteUrl, setWebsiteUrl] = useState('');\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [crawlResult, setCrawlResult] = useState<{\r\n        success?: boolean;\r\n        pages_crawled?: number;\r\n        content_preview?: string;\r\n        qa_suggestions?: Array<{ question: string; source_content?: string; keywords?: string[] }>;\r\n    } | null>(null);\r\n    const [qaPairs, setQaPairs] = useState<QAPair[]>([]);\r\n    const [existingQA, setExistingQA] = useState<QAPair[]>([]);\r\n    const [message, setMessage] = useState('');\r\n    const [activeTab, setActiveTab] = useState<'crawl' | 'manage'>('crawl');\r\n\r\n    // Load agents on mount\r\n    useEffect(() => {\r\n        loadAgents();\r\n    }, []);\r\n\r\n    // Load existing Q&A when agent changes\r\n    useEffect(() => {\r\n        if (selectedAgent) {\r\n            loadExistingQA();\r\n        }\r\n    }, [selectedAgent]);\r\n\r\n    const loadAgents = async () => {\r\n        try {\r\n            const res = await fetch(`${RAG_API}/api/agents`);\r\n            const data = await res.json();\r\n            setAgents(data.agents || []);\r\n            if (data.agents?.length > 0) {\r\n                setSelectedAgent(data.agents[0].id);\r\n            }\r\n        } catch (error) {\r\n            console.error('Failed to load agents:', error);\r\n        }\r\n    };\r\n\r\n    const loadExistingQA = async () => {\r\n        try {\r\n            const res = await fetch(`${RAG_API}/api/qa/${selectedAgent}`);\r\n            const data = await res.json();\r\n            setExistingQA(data.qa_pairs || []);\r\n        } catch (error) {\r\n            console.error('Failed to load Q&A:', error);\r\n        }\r\n    };\r\n\r\n    const handleCrawl = async () => {\r\n        if (!websiteUrl || !selectedAgent) return;\r\n\r\n        setIsLoading(true);\r\n        setMessage('Crawling website...');\r\n\r\n        try {\r\n            const res = await fetch(`${RAG_API}/api/crawl`, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                    url: websiteUrl,\r\n                    agent_id: selectedAgent,\r\n                    max_pages: 5\r\n                })\r\n            });\r\n\r\n            const data = await res.json();\r\n            setCrawlResult(data);\r\n\r\n            if (data.success) {\r\n                setMessage(`Γ£à Crawled ${data.pages_crawled} pages!`);\r\n                // Convert suggestions to Q&A pairs for editing\r\n                const suggestions = data.qa_suggestions.map((s: { question: string; source_content?: string; keywords?: string[] }) => ({\r\n                    question: s.question,\r\n                    spoken_response: s.source_content || '',\r\n                    keywords: s.keywords || [],\r\n                    priority: 5\r\n                }));\r\n                setQaPairs(suggestions);\r\n            } else {\r\n                setMessage('Γ¥î Crawl failed. Check the URL.');\r\n            }\r\n        } catch (error) {\r\n            setMessage('Γ¥î Error: ' + (error as Error).message);\r\n        }\r\n\r\n        setIsLoading(false);\r\n    };\r\n\r\n    const handleSaveQA = async () => {\r\n        if (qaPairs.length === 0) return;\r\n\r\n        setIsLoading(true);\r\n        setMessage('Saving Q&A pairs...');\r\n\r\n        try {\r\n            const res = await fetch(`${RAG_API}/api/qa/save`, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                    agent_id: selectedAgent,\r\n                    qa_pairs: qaPairs\r\n                })\r\n            });\r\n\r\n            const data = await res.json();\r\n\r\n            if (data.success) {\r\n                setMessage(`Γ£à Saved ${data.saved_count} Q&A pairs!`);\r\n                setQaPairs([]);\r\n                loadExistingQA();\r\n            } else {\r\n                setMessage('Γ¥î Failed to save');\r\n            }\r\n        } catch (error) {\r\n            setMessage('Γ¥î Error: ' + (error as Error).message);\r\n        }\r\n\r\n        setIsLoading(false);\r\n    };\r\n\r\n    const handleDeleteQA = async (qaId: string) => {\r\n        try {\r\n            await fetch(`${RAG_API}/api/qa/${selectedAgent}/${qaId}`, {\r\n                method: 'DELETE'\r\n            });\r\n            loadExistingQA();\r\n        } catch (error) {\r\n            console.error('Delete failed:', error);\r\n        }\r\n    };\r\n\r\n    const updateQAPair = (index: number, field: keyof QAPair, value: string | string[] | number) => {\r\n        const updated = [...qaPairs];\r\n        if (field === 'keywords') {\r\n            updated[index][field] = value as string[];\r\n        } else if (field === 'priority') {\r\n            updated[index][field] = value as number;\r\n        } else {\r\n            updated[index][field] = value as string;\r\n        }\r\n        setQaPairs(updated);\r\n    };\r\n\r\n    const addNewQAPair = () => {\r\n        setQaPairs([...qaPairs, {\r\n            question: '',\r\n            spoken_response: '',\r\n            keywords: [],\r\n            priority: 5\r\n        }]);\r\n    };\r\n\r\n    const removeQAPair = (index: number) => {\r\n        setQaPairs(qaPairs.filter((_, i) => i !== index));\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-black p-8\">\r\n            <div className=\"max-w-6xl mx-auto\">\r\n                {/* Header */}\r\n                <div className=\"text-center mb-8\">\r\n                    <h1 className=\"text-4xl font-bold text-white mb-2\">\r\n                        RAG Admin Panel\r\n                    </h1>\r\n                    <p className=\"text-gray-400\">\r\n                        Crawl websites and curate Q&A pairs for your voice agent\r\n                    </p>\r\n                </div>\r\n\r\n                {/* Agent Selector */}\r\n                <div className=\"bg-white/5 rounded-xl p-6 mb-6 border border-white/10\">\r\n                    <label className=\"block text-white text-sm font-medium mb-2\">\r\n                        Select Agent\r\n                    </label>\r\n                    <select\r\n                        value={selectedAgent}\r\n                        onChange={(e) => setSelectedAgent(e.target.value)}\r\n                        className=\"w-full bg-slate-800 text-white rounded-lg px-4 py-3 border border-white/20\"\r\n                    >\r\n                        {agents.map((agent) => (\r\n                            <option key={agent.id} value={agent.id}>\r\n                                {agent.name} ({agent.id.slice(0, 8)}...)\r\n                            </option>\r\n                        ))}\r\n                    </select>\r\n                </div>\r\n\r\n                {/* Tabs */}\r\n                <div className=\"flex gap-4 mb-6\">\r\n                    <button\r\n                        onClick={() => setActiveTab('crawl')}\r\n                        className={`px-6 py-3 rounded-lg font-medium transition ${activeTab === 'crawl'\r\n                            ? 'bg-purple-600 text-white'\r\n                            : 'bg-white/10 text-gray-400 hover:bg-white/20'\r\n                            }`}\r\n                    >\r\n                        ≡ƒîÉ Crawl & Create\r\n                    </button>\r\n                    <button\r\n                        onClick={() => setActiveTab('manage')}\r\n                        className={`px-6 py-3 rounded-lg font-medium transition ${activeTab === 'manage'\r\n                            ? 'bg-purple-600 text-white'\r\n                            : 'bg-white/10 text-gray-400 hover:bg-white/20'\r\n                            }`}\r\n                    >\r\n                        ≡ƒôÜ Manage Q&A ({existingQA.length})\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Message */}\r\n                {message && (\r\n                    <div className={`p-4 rounded-lg mb-6 ${message.includes('Γ£à') ? 'bg-green-500/20 text-green-400' :\r\n                        message.includes('Γ¥î') ? 'bg-red-500/20 text-red-400' :\r\n                            'bg-blue-500/20 text-blue-400'\r\n                        }`}>\r\n                        {message}\r\n                    </div>\r\n                )}\r\n\r\n                {/* Crawl Tab */}\r\n                {activeTab === 'crawl' && (\r\n                    <div className=\"space-y-6\">\r\n                        {/* Website URL Input */}\r\n                        <div className=\"bg-white/5 rounded-xl p-6 border border-white/10\">\r\n                            <h2 className=\"text-xl font-semibold text-white mb-4 flex items-center gap-2\">\r\n                                <Globe className=\"w-5 h-5\" />\r\n                                Step 1: Enter Website URL\r\n                            </h2>\r\n                            <div className=\"flex gap-4\">\r\n                                <input\r\n                                    type=\"url\"\r\n                                    value={websiteUrl}\r\n                                    onChange={(e) => setWebsiteUrl(e.target.value)}\r\n                                    placeholder=\"https://example.com\"\r\n                                    className=\"flex-1 bg-slate-800 text-white rounded-lg px-4 py-3 border border-white/20\"\r\n                                />\r\n                                <button\r\n                                    onClick={handleCrawl}\r\n                                    disabled={isLoading || !websiteUrl}\r\n                                    className=\"px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-medium disabled:opacity-50 flex items-center gap-2\"\r\n                                >\r\n                                    {isLoading ? (\r\n                                        <Loader2 className=\"w-5 h-5 animate-spin\" />\r\n                                    ) : (\r\n                                        <RefreshCw className=\"w-5 h-5\" />\r\n                                    )}\r\n                                    Crawl\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Crawl Result Preview */}\r\n                        {crawlResult?.content_preview && (\r\n                            <div className=\"bg-white/5 rounded-xl p-6 border border-white/10\">\r\n                                <h2 className=\"text-xl font-semibold text-white mb-4\">\r\n                                    ≡ƒôä Content Preview\r\n                                </h2>\r\n                                <pre className=\"text-gray-300 text-sm whitespace-pre-wrap max-h-48 overflow-y-auto bg-slate-800/50 p-4 rounded-lg\">\r\n                                    {crawlResult.content_preview}\r\n                                </pre>\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* Q&A Pairs Editor */}\r\n                        {qaPairs.length > 0 && (\r\n                            <div className=\"bg-white/5 rounded-xl p-6 border border-white/10\">\r\n                                <div className=\"flex justify-between items-center mb-4\">\r\n                                    <h2 className=\"text-xl font-semibold text-white\">\r\n                                        Step 2: Curate Q&A Pairs ({qaPairs.length})\r\n                                    </h2>\r\n                                    <button\r\n                                        onClick={addNewQAPair}\r\n                                        className=\"px-4 py-2 bg-green-600 text-white rounded-lg text-sm\"\r\n                                    >\r\n                                        + Add Q&A\r\n                                    </button>\r\n                                </div>\r\n\r\n                                <div className=\"space-y-4\">\r\n                                    {qaPairs.map((qa, index) => (\r\n                                        <div key={index} className=\"bg-slate-800/50 rounded-lg p-4 border border-white/10\">\r\n                                            <div className=\"flex justify-between mb-2\">\r\n                                                <span className=\"text-purple-400 text-sm font-medium\">Q&A #{index + 1}</span>\r\n                                                <button\r\n                                                    onClick={() => removeQAPair(index)}\r\n                                                    className=\"text-red-400 hover:text-red-300\"\r\n                                                >\r\n                                                    <Trash2 className=\"w-4 h-4\" />\r\n                                                </button>\r\n                                            </div>\r\n\r\n                                            <input\r\n                                                type=\"text\"\r\n                                                value={qa.question}\r\n                                                onChange={(e) => updateQAPair(index, 'question', e.target.value)}\r\n                                                placeholder=\"Question\"\r\n                                                className=\"w-full bg-slate-700 text-white rounded px-3 py-2 mb-2 border border-white/10\"\r\n                                            />\r\n\r\n                                            <textarea\r\n                                                value={qa.spoken_response}\r\n                                                onChange={(e) => updateQAPair(index, 'spoken_response', e.target.value)}\r\n                                                placeholder=\"Spoken response (write exactly as it should be spoken)\"\r\n                                                rows={3}\r\n                                                className=\"w-full bg-slate-700 text-white rounded px-3 py-2 mb-2 border border-white/10\"\r\n                                            />\r\n\r\n                                            <div className=\"flex gap-2\">\r\n                                                <input\r\n                                                    type=\"text\"\r\n                                                    value={qa.keywords.join(', ')}\r\n                                                    onChange={(e) => updateQAPair(index, 'keywords', e.target.value.split(',').map(k => k.trim()))}\r\n                                                    placeholder=\"Keywords (comma-separated)\"\r\n                                                    className=\"flex-1 bg-slate-700 text-white rounded px-3 py-2 text-sm border border-white/10\"\r\n                                                />\r\n                                                <input\r\n                                                    type=\"number\"\r\n                                                    value={qa.priority}\r\n                                                    onChange={(e) => updateQAPair(index, 'priority', parseInt(e.target.value))}\r\n                                                    min={1}\r\n                                                    max={10}\r\n                                                    className=\"w-20 bg-slate-700 text-white rounded px-3 py-2 text-sm border border-white/10\"\r\n                                                    title=\"Priority (1-10)\"\r\n                                                />\r\n                                            </div>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n\r\n                                <button\r\n                                    onClick={handleSaveQA}\r\n                                    disabled={isLoading || qaPairs.length === 0}\r\n                                    className=\"mt-4 w-full px-6 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium disabled:opacity-50 flex items-center justify-center gap-2\"\r\n                                >\r\n                                    {isLoading ? (\r\n                                        <Loader2 className=\"w-5 h-5 animate-spin\" />\r\n                                    ) : (\r\n                                        <Save className=\"w-5 h-5\" />\r\n                                    )}\r\n                                    Save to Supabase\r\n                                </button>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                )}\r\n\r\n                {/* Manage Tab */}\r\n                {activeTab === 'manage' && (\r\n                    <div className=\"bg-white/5 rounded-xl p-6 border border-white/10\">\r\n                        <div className=\"flex justify-between items-center mb-4\">\r\n                            <h2 className=\"text-xl font-semibold text-white\">\r\n                                Existing Q&A Pairs\r\n                            </h2>\r\n                            <button\r\n                                onClick={loadExistingQA}\r\n                                className=\"px-4 py-2 bg-slate-700 text-white rounded-lg text-sm flex items-center gap-2\"\r\n                            >\r\n                                <RefreshCw className=\"w-4 h-4\" />\r\n                                Refresh\r\n                            </button>\r\n                        </div>\r\n\r\n                        {existingQA.length === 0 ? (\r\n                            <p className=\"text-gray-400 text-center py-8\">\r\n                                No Q&A pairs found for this agent. Crawl a website to add some!\r\n                            </p>\r\n                        ) : (\r\n                            <div className=\"space-y-3\">\r\n                                {existingQA.map((qa) => (\r\n                                    <div key={qa.id} className=\"bg-slate-800/50 rounded-lg p-4 border border-white/10\">\r\n                                        <div className=\"flex justify-between\">\r\n                                            <div className=\"flex-1\">\r\n                                                <p className=\"text-purple-400 font-medium mb-1\">\r\n                                                    Q: {qa.question}\r\n                                                </p>\r\n                                                <p className=\"text-gray-300 text-sm\">\r\n                                                    A: {qa.spoken_response?.slice(0, 150)}...\r\n                                                </p>\r\n                                            </div>\r\n                                            <button\r\n                                                onClick={() => qa.id && handleDeleteQA(qa.id)}\r\n                                                className=\"text-red-400 hover:text-red-300 ml-4\"\r\n                                            >\r\n                                                <Trash2 className=\"w-5 h-5\" />\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                )}\r\n\r\n                {/* Test Section */}\r\n                <div className=\"mt-8 bg-gradient-to-r from-purple-600/20 to-cyan-600/20 rounded-xl p-6 border border-purple-500/30\">\r\n                    <h2 className=\"text-xl font-semibold text-white mb-2 flex items-center gap-2\">\r\n                        <Play className=\"w-5 h-5\" />\r\n                        Step 3: Test Your Voice Agent\r\n                    </h2>\r\n                    <p className=\"text-gray-400 mb-4\">\r\n                        After saving Q&A pairs, test your agent at the main page.\r\n                    </p>\r\n                    <a\r\n                        href=\"/\"\r\n                        className=\"inline-flex items-center gap-2 px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-medium\"\r\n                    >\r\n                        Go to Voice Agent ΓåÆ\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\app\\api\\agent\\session\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\app\\api\\agents\\[id]\\retrain\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\app\\api\\agents\\[id]\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\app\\api\\agents\\[id]\\toggle\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\app\\api\\agents\\create\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\app\\api\\agents\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\app\\api\\auth\\[...nextauth]\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\app\\api\\avatar\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\app\\api\\crawl-website\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\app\\api\\search-knowledge\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\app\\api\\sessions\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'request' is defined but never used. Allowed unused args must match /^_/u.","line":6,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":34}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server';\r\nimport { auth } from '@/lib/auth';\r\nimport { supabase } from '@/lib/supabase';\r\n\r\n// GET /api/sessions - Fetch all sessions for the current user's agents\r\nexport async function GET(request: NextRequest) {\r\n    try {\r\n        const session = await auth();\r\n\r\n        if (!session?.user?.email) {\r\n            return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\r\n        }\r\n\r\n        // Get user from database\r\n        const { data: user, error: userError } = await supabase\r\n            .from('users')\r\n            .select('id')\r\n            .eq('email', session.user.email)\r\n            .single();\r\n\r\n        if (userError || !user) {\r\n            // Return empty sessions for new users\r\n            return NextResponse.json([]);\r\n        }\r\n\r\n        // Get all agents for this user\r\n        const { data: agents, error: agentsError } = await supabase\r\n            .from('agents')\r\n            .select('id')\r\n            .eq('user_id', user.id);\r\n\r\n        if (agentsError) {\r\n            console.error('Error fetching agents:', agentsError);\r\n            return NextResponse.json([]);\r\n        }\r\n\r\n        if (!agents || agents.length === 0) {\r\n            return NextResponse.json([]);\r\n        }\r\n\r\n        const agentIds = agents.map((a: { id: string }) => a.id);\r\n\r\n        // Get all sessions for these agents (last 30 days)\r\n        const thirtyDaysAgo = new Date();\r\n        thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);\r\n\r\n        const { data: sessions, error: sessionsError } = await supabase\r\n            .from('sessions')\r\n            .select('*')\r\n            .in('agent_id', agentIds)\r\n            .gte('started_at', thirtyDaysAgo.toISOString())\r\n            .order('started_at', { ascending: false });\r\n\r\n        if (sessionsError) {\r\n            console.error('Error fetching sessions:', sessionsError);\r\n            return NextResponse.json([]);\r\n        }\r\n\r\n        return NextResponse.json(sessions || []);\r\n    } catch (error) {\r\n        console.error('Error in GET /api/sessions:', error);\r\n        return NextResponse.json({ error: 'Internal server error' }, { status: 500 });\r\n    }\r\n}\r\n\r\n// POST /api/sessions - Create a new session\r\nexport async function POST(request: NextRequest) {\r\n    try {\r\n        const session = await auth();\r\n\r\n        if (!session?.user?.email) {\r\n            return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\r\n        }\r\n\r\n        const body = await request.json();\r\n        const { agent_id } = body;\r\n\r\n        if (!agent_id) {\r\n            return NextResponse.json({ error: 'agent_id is required' }, { status: 400 });\r\n        }\r\n\r\n        const { data: newSession, error } = await supabase\r\n            .from('sessions')\r\n            .insert({\r\n                agent_id,\r\n                status: 'active',\r\n                started_at: new Date().toISOString(),\r\n            })\r\n            .select()\r\n            .single();\r\n\r\n        if (error) {\r\n            console.error('Error creating session:', error);\r\n            return NextResponse.json({ error: 'Failed to create session' }, { status: 500 });\r\n        }\r\n\r\n        return NextResponse.json(newSession);\r\n    } catch (error) {\r\n        console.error('Error in POST /api/sessions:', error);\r\n        return NextResponse.json({ error: 'Internal server error' }, { status: 500 });\r\n    }\r\n}\r\n\r\n// PATCH /api/sessions - End a session\r\nexport async function PATCH(request: NextRequest) {\r\n    try {\r\n        const session = await auth();\r\n\r\n        if (!session?.user?.email) {\r\n            return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\r\n        }\r\n\r\n        const body = await request.json();\r\n        const { session_id } = body;\r\n\r\n        if (!session_id) {\r\n            return NextResponse.json({ error: 'session_id is required' }, { status: 400 });\r\n        }\r\n\r\n        const { data: updatedSession, error } = await supabase\r\n            .from('sessions')\r\n            .update({\r\n                status: 'ended',\r\n                ended_at: new Date().toISOString(),\r\n            })\r\n            .eq('id', session_id)\r\n            .select()\r\n            .single();\r\n\r\n        if (error) {\r\n            console.error('Error ending session:', error);\r\n            return NextResponse.json({ error: 'Failed to end session' }, { status: 500 });\r\n        }\r\n\r\n        return NextResponse.json(updatedSession);\r\n    } catch (error) {\r\n        console.error('Error in PATCH /api/sessions:', error);\r\n        return NextResponse.json({ error: 'Internal server error' }, { status: 500 });\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\app\\api\\tts\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\app\\api\\voices\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\app\\auth\\login\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used.","line":36,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":36,"endColumn":21},{"ruleId":"react/no-unescaped-entities","severity":1,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":139,"column":24,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[6699,6743],"text":"\r\n                    Don&apos;t have an account?"},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[6699,6743],"text":"\r\n                    Don&lsquo;t have an account?"},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[6699,6743],"text":"\r\n                    Don&#39;t have an account?"},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[6699,6743],"text":"\r\n                    Don&rsquo;t have an account?"},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport { signIn } from 'next-auth/react';\r\nimport Image from 'next/image';\r\nimport { Eye, EyeOff } from 'lucide-react';\r\n\r\nexport default function LoginPage() {\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [showPassword, setShowPassword] = useState(false);\r\n    const [error, setError] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const router = useRouter();\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setError('');\r\n        setLoading(true);\r\n\r\n        try {\r\n            const result = await signIn('credentials', {\r\n                email,\r\n                password,\r\n                isSignUp: 'false',\r\n                redirect: false\r\n            });\r\n\r\n            if (result?.error) {\r\n                setError('Invalid email or password');\r\n            } else {\r\n                router.push('/dashboard');\r\n            }\r\n        } catch (err) {\r\n            setError('Something went wrong. Please try again.');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleSocialLogin = (provider: 'google' | 'github') => {\r\n        signIn(provider, { callbackUrl: '/dashboard' });\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen flex\">\r\n            {/* Left Side - Login Form */}\r\n            <div className=\"w-full lg:w-1/2 bg-[#0a0a0a] flex flex-col justify-center px-8 sm:px-16 lg:px-24\">\r\n                {/* Logo */}\r\n                <div className=\"mb-12\">\r\n                    <h1 className=\"text-3xl font-bold text-white tracking-tight\">Talk to Site</h1>\r\n                </div>\r\n\r\n                {/* Welcome Text */}\r\n                <h2 className=\"text-3xl font-semibold text-white mb-8\">Welcome back</h2>\r\n\r\n                {/* Social Login Buttons */}\r\n                <div className=\"space-y-3 mb-6\">\r\n                    <button\r\n                        onClick={() => handleSocialLogin('google')}\r\n                        className=\"w-full flex items-center justify-center gap-3 px-4 py-3 rounded-lg border border-white/20 text-white hover:bg-white/5 transition-colors\"\r\n                    >\r\n                        <svg className=\"w-5 h-5\" viewBox=\"0 0 24 24\">\r\n                            <path fill=\"#4285F4\" d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\" />\r\n                            <path fill=\"#34A853\" d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\" />\r\n                            <path fill=\"#FBBC05\" d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\" />\r\n                            <path fill=\"#EA4335\" d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\" />\r\n                        </svg>\r\n                        Sign in with Google\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Divider */}\r\n                <div className=\"relative my-6\">\r\n                    <div className=\"absolute inset-0 flex items-center\">\r\n                        <div className=\"w-full border-t border-white/20\"></div>\r\n                    </div>\r\n                    <div className=\"relative flex justify-center text-sm\">\r\n                        <span className=\"px-4 bg-[#0a0a0a] text-gray-500\">Or</span>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Email/Password Form */}\r\n                <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n                    {error && (\r\n                        <div className=\"bg-red-500/10 border border-red-500/50 rounded-lg p-3 text-red-400 text-sm\">\r\n                            {error}\r\n                        </div>\r\n                    )}\r\n\r\n                    <div>\r\n                        <label className=\"block text-sm text-gray-400 mb-2\">Email</label>\r\n                        <input\r\n                            type=\"email\"\r\n                            value={email}\r\n                            onChange={(e) => setEmail(e.target.value)}\r\n                            className=\"w-full bg-transparent border border-white/20 rounded-lg px-4 py-3 text-white placeholder-gray-600 focus:outline-none focus:border-white/40 transition-colors\"\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label className=\"block text-sm text-gray-400 mb-2\">Password</label>\r\n                        <div className=\"relative\">\r\n                            <input\r\n                                type={showPassword ? \"text\" : \"password\"}\r\n                                value={password}\r\n                                onChange={(e) => setPassword(e.target.value)}\r\n                                className=\"w-full bg-transparent border border-white/20 rounded-lg px-4 py-3 pr-12 text-white placeholder-gray-600 focus:outline-none focus:border-white/40 transition-colors\"\r\n                                required\r\n                            />\r\n                            <button\r\n                                type=\"button\"\r\n                                onClick={() => setShowPassword(!showPassword)}\r\n                                className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors\"\r\n                            >\r\n                                {showPassword ? <EyeOff className=\"w-5 h-5\" /> : <Eye className=\"w-5 h-5\" />}\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <button\r\n                        type=\"submit\"\r\n                        disabled={loading}\r\n                        className=\"w-full bg-white text-black font-medium py-3 px-4 rounded-full hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                    >\r\n                        {loading ? (\r\n                            <div className=\"w-5 h-5 border-2 border-gray-400 border-t-black rounded-full animate-spin mx-auto\" />\r\n                        ) : (\r\n                            'Sign in'\r\n                        )}\r\n                    </button>\r\n                </form>\r\n\r\n                {/* Create Account Link */}\r\n                <p className=\"mt-6 text-gray-500\">\r\n                    Don't have an account?{' '}\r\n                    <Link href=\"/auth/signup\" className=\"text-blue-400 hover:text-blue-300 transition-colors\">\r\n                        Create your account\r\n                    </Link>\r\n                </p>\r\n            </div>\r\n\r\n            {/* Right Side - Feature Showcase */}\r\n            <div className=\"hidden lg:flex w-1/2 bg-gradient-to-br from-gray-50 to-gray-100 flex-col items-center justify-center p-8 overflow-hidden\">\r\n                {/* Showcase Image */}\r\n                <div className=\"flex-1 flex items-center justify-center w-full\">\r\n                    <Image\r\n                        src=\"/auth-showcase.jpg\"\r\n                        alt=\"Feature Showcase\"\r\n                        width={800}\r\n                        height={500}\r\n                        className=\"object-contain max-w-full max-h-[60vh]\"\r\n                        priority\r\n                    />\r\n                </div>\r\n\r\n                {/* Marketing Text Below Image */}\r\n                <div className=\"w-full max-w-md text-center mt-8 pb-6\">\r\n                    <h3 className=\"text-xl font-bold text-gray-900 mb-3 whitespace-nowrap\">\r\n                        The fastest, ultra-realistic AI Personas platform.\r\n                    </h3>\r\n                    <p className=\"text-sm text-gray-500 mb-6 whitespace-nowrap\">\r\n                        Driving 57% increase in engagement, 25% in conversion and 340% in ROI.\r\n                    </p>\r\n                    <ul className=\"space-y-2 text-sm text-gray-600 text-left\">\r\n                        <li className=\"flex items-start gap-3\">\r\n                            <span className=\"w-1 h-1 bg-gray-800 rounded-full mt-2 flex-shrink-0\"></span>\r\n                            Get instant access to our Slack Community Support\r\n                        </li>\r\n                        <li className=\"flex items-start gap-3\">\r\n                            <span className=\"w-1 h-1 bg-gray-800 rounded-full mt-2 flex-shrink-0\"></span>\r\n                            Share and publish your AI Personas\r\n                        </li>\r\n                        <li className=\"flex items-start gap-3\">\r\n                            <span className=\"w-1 h-1 bg-gray-800 rounded-full mt-2 flex-shrink-0\"></span>\r\n                            Track progress with our Analytics dashboards\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\app\\auth\\signup\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used.","line":49,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":49,"endColumn":21}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport { signIn } from 'next-auth/react';\r\nimport Image from 'next/image';\r\nimport { Eye, EyeOff } from 'lucide-react';\r\n\r\nexport default function SignupPage() {\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [confirmPassword, setConfirmPassword] = useState('');\r\n    const [showPassword, setShowPassword] = useState(false);\r\n    const [showConfirmPassword, setShowConfirmPassword] = useState(false);\r\n    const [error, setError] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const router = useRouter();\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setError('');\r\n\r\n        if (password !== confirmPassword) {\r\n            setError('Passwords do not match');\r\n            return;\r\n        }\r\n\r\n        if (password.length < 6) {\r\n            setError('Password must be at least 6 characters');\r\n            return;\r\n        }\r\n\r\n        setLoading(true);\r\n\r\n        try {\r\n            const result = await signIn('credentials', {\r\n                email,\r\n                password,\r\n                isSignUp: 'true',\r\n                redirect: false\r\n            });\r\n\r\n            if (result?.error) {\r\n                setError(result.error);\r\n            } else {\r\n                router.push('/dashboard');\r\n            }\r\n        } catch (err) {\r\n            setError('Something went wrong. Please try again.');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleSocialLogin = (provider: 'google' | 'github') => {\r\n        signIn(provider, { callbackUrl: '/dashboard' });\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen flex\">\r\n            {/* Left Side - Signup Form */}\r\n            <div className=\"w-full lg:w-1/2 bg-[#0a0a0a] flex flex-col justify-center px-8 sm:px-16 lg:px-24\">\r\n                {/* Logo */}\r\n                <div className=\"mb-12\">\r\n                    <h1 className=\"text-3xl font-bold text-white tracking-tight\">Talk to Site</h1>\r\n                </div>\r\n\r\n                {/* Welcome Text */}\r\n                <h2 className=\"text-3xl font-semibold text-white mb-8\">Create your account</h2>\r\n\r\n                {/* Social Login Buttons */}\r\n                <div className=\"space-y-3 mb-6\">\r\n                    <button\r\n                        onClick={() => handleSocialLogin('google')}\r\n                        className=\"w-full flex items-center justify-center gap-3 px-4 py-3 rounded-lg border border-white/20 text-white hover:bg-white/5 transition-colors\"\r\n                    >\r\n                        <svg className=\"w-5 h-5\" viewBox=\"0 0 24 24\">\r\n                            <path fill=\"#4285F4\" d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\" />\r\n                            <path fill=\"#34A853\" d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\" />\r\n                            <path fill=\"#FBBC05\" d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\" />\r\n                            <path fill=\"#EA4335\" d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\" />\r\n                        </svg>\r\n                        Sign up with Google\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Divider */}\r\n                <div className=\"relative my-6\">\r\n                    <div className=\"absolute inset-0 flex items-center\">\r\n                        <div className=\"w-full border-t border-white/20\"></div>\r\n                    </div>\r\n                    <div className=\"relative flex justify-center text-sm\">\r\n                        <span className=\"px-4 bg-[#0a0a0a] text-gray-500\">Or</span>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Email/Password Form */}\r\n                <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n                    {error && (\r\n                        <div className=\"bg-red-500/10 border border-red-500/50 rounded-lg p-3 text-red-400 text-sm\">\r\n                            {error}\r\n                        </div>\r\n                    )}\r\n\r\n                    <div>\r\n                        <label className=\"block text-sm text-gray-400 mb-2\">Email</label>\r\n                        <input\r\n                            type=\"email\"\r\n                            value={email}\r\n                            onChange={(e) => setEmail(e.target.value)}\r\n                            className=\"w-full bg-transparent border border-white/20 rounded-lg px-4 py-3 text-white placeholder-gray-600 focus:outline-none focus:border-white/40 transition-colors\"\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label className=\"block text-sm text-gray-400 mb-2\">Password</label>\r\n                        <div className=\"relative\">\r\n                            <input\r\n                                type={showPassword ? \"text\" : \"password\"}\r\n                                value={password}\r\n                                onChange={(e) => setPassword(e.target.value)}\r\n                                className=\"w-full bg-transparent border border-white/20 rounded-lg px-4 py-3 pr-12 text-white placeholder-gray-600 focus:outline-none focus:border-white/40 transition-colors\"\r\n                                required\r\n                            />\r\n                            <button\r\n                                type=\"button\"\r\n                                onClick={() => setShowPassword(!showPassword)}\r\n                                className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors\"\r\n                            >\r\n                                {showPassword ? <EyeOff className=\"w-5 h-5\" /> : <Eye className=\"w-5 h-5\" />}\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label className=\"block text-sm text-gray-400 mb-2\">Confirm Password</label>\r\n                        <div className=\"relative\">\r\n                            <input\r\n                                type={showConfirmPassword ? \"text\" : \"password\"}\r\n                                value={confirmPassword}\r\n                                onChange={(e) => setConfirmPassword(e.target.value)}\r\n                                className=\"w-full bg-transparent border border-white/20 rounded-lg px-4 py-3 pr-12 text-white placeholder-gray-600 focus:outline-none focus:border-white/40 transition-colors\"\r\n                                required\r\n                            />\r\n                            <button\r\n                                type=\"button\"\r\n                                onClick={() => setShowConfirmPassword(!showConfirmPassword)}\r\n                                className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors\"\r\n                            >\r\n                                {showConfirmPassword ? <EyeOff className=\"w-5 h-5\" /> : <Eye className=\"w-5 h-5\" />}\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <button\r\n                        type=\"submit\"\r\n                        disabled={loading}\r\n                        className=\"w-full bg-white text-black font-medium py-3 px-4 rounded-full hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                    >\r\n                        {loading ? (\r\n                            <div className=\"w-5 h-5 border-2 border-gray-400 border-t-black rounded-full animate-spin mx-auto\" />\r\n                        ) : (\r\n                            'Create account'\r\n                        )}\r\n                    </button>\r\n                </form>\r\n\r\n                {/* Sign In Link */}\r\n                <p className=\"mt-6 text-gray-500\">\r\n                    Already have an account?{' '}\r\n                    <Link href=\"/auth/login\" className=\"text-blue-400 hover:text-blue-300 transition-colors\">\r\n                        Sign in\r\n                    </Link>\r\n                </p>\r\n            </div>\r\n\r\n            {/* Right Side - Feature Showcase */}\r\n            <div className=\"hidden lg:flex w-1/2 bg-gradient-to-br from-gray-50 to-gray-100 flex-col items-center justify-center p-8 overflow-hidden\">\r\n                {/* Showcase Image */}\r\n                <div className=\"flex-1 flex items-center justify-center w-full\">\r\n                    <Image\r\n                        src=\"/auth-showcase.jpg\"\r\n                        alt=\"Feature Showcase\"\r\n                        width={800}\r\n                        height={500}\r\n                        className=\"object-contain max-w-full max-h-[60vh]\"\r\n                        priority\r\n                    />\r\n                </div>\r\n\r\n                {/* Marketing Text Below Image */}\r\n                <div className=\"w-full max-w-md text-center mt-8 pb-6\">\r\n                    <h3 className=\"text-xl font-bold text-gray-900 mb-3 whitespace-nowrap\">\r\n                        The fastest, ultra-realistic AI Personas platform.\r\n                    </h3>\r\n                    <p className=\"text-sm text-gray-500 mb-6 whitespace-nowrap\">\r\n                        Driving 57% increase in engagement, 25% in conversion and 340% in ROI.\r\n                    </p>\r\n                    <ul className=\"space-y-2 text-sm text-gray-600 text-left\">\r\n                        <li className=\"flex items-start gap-3\">\r\n                            <span className=\"w-1 h-1 bg-gray-800 rounded-full mt-2 flex-shrink-0\"></span>\r\n                            Get instant access to our Slack Community Support\r\n                        </li>\r\n                        <li className=\"flex items-start gap-3\">\r\n                            <span className=\"w-1 h-1 bg-gray-800 rounded-full mt-2 flex-shrink-0\"></span>\r\n                            Share and publish your AI Personas\r\n                        </li>\r\n                        <li className=\"flex items-start gap-3\">\r\n                            <span className=\"w-1 h-1 bg-gray-800 rounded-full mt-2 flex-shrink-0\"></span>\r\n                            Track progress with our Analytics dashboards\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\app\\create\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'session' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":44,"column":19,"nodeType":null,"messageId":"unusedVar","endLine":44,"endColumn":26},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'maxTokens' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":88,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":88,"endColumn":20},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used.","line":123,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":123,"endColumn":21},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used.","line":167,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":167,"endColumn":21},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used.","line":236,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":236,"endColumn":21}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useSession } from 'next-auth/react';\r\nimport { useRouter, useSearchParams } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport Image from 'next/image';\r\nimport { ArrowLeft, Save, Play, Loader2, Sparkles, Globe, CheckCircle, AlertCircle } from 'lucide-react';\r\nimport { FaceGallery } from '@/components/FaceGallery';\r\nimport { VoiceSelector } from '@/components/VoiceSelector';\r\nimport { AVAILABLE_FACES } from '@/lib/simile';\r\n\r\ntype Tab = 'prompt' | 'avatar' | 'voice' | 'llm' | 'tools';\r\n\r\n// Default System Prompt Template\r\nconst DEFAULT_SYSTEM_PROMPT = `[Identity]\r\nYou are a friendly and helpful AI voice assistant for this website. You provide accurate information about the company's products, services, and help answer customer questions in a conversational manner.\r\n\r\n[Style]\r\nSound friendly, professional, and knowledgeable\r\nUse a conversational tone with natural speech patterns\r\nBe approachable and helpful when explaining information\r\nAdapt your communication style to match the customer's needs\r\n\r\n[Response Guidelines]\r\nKeep responses clear, concise, and informative\r\nAsk clarifying questions when needed\r\nConfirm important details before proceeding\r\nUse simple, accessible language\r\nExpress understanding and empathy for customer concerns\r\n\r\n[Task & Goals]\r\nProvide information about products and services\r\nAnswer frequently asked questions\r\nGuide customers through processes\r\nConnect customers with the right resources\r\n\r\n[Error Handling / Fallback]\r\nIf the request is unclear, ask for clarification\r\nIf you don't have specific information, offer alternative help\r\nFor complex queries, suggest contacting support directly`;\r\n\r\nexport default function CreateAgentPage() {\r\n    const { data: session, status } = useSession();\r\n    const router = useRouter();\r\n    const searchParams = useSearchParams();\r\n\r\n    // Tab state\r\n    const [activeTab, setActiveTab] = useState<Tab>('prompt');\r\n\r\n    // Form state\r\n    const [agentName, setAgentName] = useState('New Agent');\r\n    const [websiteUrl, setWebsiteUrl] = useState('');\r\n    const [systemPrompt, setSystemPrompt] = useState(DEFAULT_SYSTEM_PROMPT);\r\n    const [promptDescription, setPromptDescription] = useState('A knowledgeable customer service agent helping with inquiries');\r\n    const [selectedFace, setSelectedFace] = useState<string | null>(AVAILABLE_FACES[0]?.id || null);\r\n    const [selectedVoice, setSelectedVoice] = useState<string | null>(null);\r\n    const [skipGreeting, setSkipGreeting] = useState(false);\r\n    const [saving, setSaving] = useState(false);\r\n    const [error, setError] = useState('');\r\n\r\n    // Crawl state\r\n    const [crawling, setCrawling] = useState(false);\r\n    const [crawlStatus, setCrawlStatus] = useState<'idle' | 'crawling' | 'completed' | 'failed'>('idle');\r\n    const [pagesCrawled, setPagesCrawled] = useState(0);\r\n    const [tempAgentId, setTempAgentId] = useState<string | null>(null);\r\n    const [starting, setStarting] = useState(false);\r\n\r\n    // Override face from URL params if provided\r\n    useEffect(() => {\r\n        const faceParam = searchParams.get('face');\r\n        if (faceParam) {\r\n            setSelectedFace(faceParam);\r\n        }\r\n    }, [searchParams]);\r\n\r\n    // Redirect if not authenticated\r\n    if (status === 'unauthenticated') {\r\n        router.push('/auth/login');\r\n        return null;\r\n    }\r\n\r\n    // Get selected face thumbnail\r\n    const selectedFaceData = AVAILABLE_FACES.find(f => f.id === selectedFace);\r\n\r\n    // Calculate token count (rough estimate)\r\n    const tokenCount = Math.ceil(systemPrompt.length / 4);\r\n    const maxTokens = 120000;\r\n\r\n    const handleSave = async () => {\r\n        if (!agentName.trim()) {\r\n            setError('Please enter a name for your agent');\r\n            return;\r\n        }\r\n        if (!selectedFace) {\r\n            setError('Please select an avatar');\r\n            setActiveTab('avatar');\r\n            return;\r\n        }\r\n\r\n        setSaving(true);\r\n        setError('');\r\n\r\n        try {\r\n            const response = await fetch('/api/agents/create', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                    name: agentName,\r\n                    websiteUrl,\r\n                    faceId: selectedFace,\r\n                    voiceId: selectedVoice,\r\n                    systemPrompt,\r\n                    promptDescription\r\n                })\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error('Failed to create agent');\r\n            }\r\n\r\n            router.push('/dashboard');\r\n        } catch (err) {\r\n            setError('Failed to create agent. Please try again.');\r\n            setSaving(false);\r\n        }\r\n    };\r\n\r\n    // Handle Start button - saves agent and navigates to test page\r\n    const handleStart = async () => {\r\n        if (!selectedFace) {\r\n            setError('Please select an avatar first');\r\n            setActiveTab('avatar');\r\n            return;\r\n        }\r\n\r\n        setStarting(true);\r\n        setError('');\r\n\r\n        try {\r\n            // If we already have a temp agent from crawling, use that\r\n            if (tempAgentId) {\r\n                router.push(`/test/${tempAgentId}`);\r\n                return;\r\n            }\r\n\r\n            // Otherwise, create a new agent and navigate\r\n            const response = await fetch('/api/agents/create', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                    name: agentName || 'New Agent',\r\n                    websiteUrl,\r\n                    faceId: selectedFace,\r\n                    voiceId: selectedVoice,\r\n                    systemPrompt,\r\n                    promptDescription\r\n                })\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error('Failed to create agent');\r\n            }\r\n\r\n            const { agent } = await response.json();\r\n            router.push(`/test/${agent.id}`);\r\n        } catch (err) {\r\n            setError('Failed to start agent. Please try again.');\r\n            setStarting(false);\r\n        }\r\n    };\r\n\r\n    // Handle Generate button - triggers Firecrawl\r\n    const handleGenerate = async () => {\r\n        if (!websiteUrl.trim()) {\r\n            setError('Please enter a website URL first');\r\n            return;\r\n        }\r\n\r\n        // Validate URL format\r\n        try {\r\n            new URL(websiteUrl);\r\n        } catch {\r\n            setError('Please enter a valid URL (e.g., https://example.com)');\r\n            return;\r\n        }\r\n\r\n        setCrawling(true);\r\n        setCrawlStatus('crawling');\r\n        setError('');\r\n\r\n        try {\r\n            // First create a temporary agent to get an ID\r\n            const createResponse = await fetch('/api/agents/create', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                    name: agentName || 'New Agent',\r\n                    websiteUrl,\r\n                    faceId: selectedFace || AVAILABLE_FACES[0]?.id,\r\n                    voiceId: selectedVoice,\r\n                    systemPrompt: DEFAULT_SYSTEM_PROMPT\r\n                })\r\n            });\r\n\r\n            if (!createResponse.ok) {\r\n                throw new Error('Failed to create agent');\r\n            }\r\n\r\n            const { agent } = await createResponse.json();\r\n            setTempAgentId(agent.id);\r\n\r\n            // Now trigger Firecrawl\r\n            const crawlResponse = await fetch('/api/crawl-website', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                    websiteUrl,\r\n                    agentId: agent.id\r\n                })\r\n            });\r\n\r\n            const crawlData = await crawlResponse.json();\r\n\r\n            if (!crawlResponse.ok) {\r\n                setCrawlStatus('failed');\r\n                setError(crawlData.error || 'Website crawl failed');\r\n                return;\r\n            }\r\n\r\n            setCrawlStatus('completed');\r\n            setPagesCrawled(crawlData.pagesCount || 0);\r\n\r\n            // Success! Show completion message\r\n            setError('');\r\n        } catch (err) {\r\n            setCrawlStatus('failed');\r\n            setError('Failed to crawl website. Please check the URL and try again.');\r\n        } finally {\r\n            setCrawling(false);\r\n        }\r\n    };\r\n\r\n    const tabs: { id: Tab; label: string; badge?: string }[] = [\r\n        { id: 'prompt', label: 'Prompt' },\r\n        { id: 'avatar', label: 'Avatar' },\r\n        { id: 'voice', label: 'Voice' },\r\n        { id: 'llm', label: 'LLM' },\r\n        { id: 'tools', label: 'Tools' },\r\n    ];\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-black flex\">\r\n            {/* Left Panel - Avatar Preview */}\r\n            <div className=\"w-[45%] border-r border-white/5 flex flex-col\">\r\n                {/* Header */}\r\n                <div className=\"flex items-center gap-3 px-6 py-4 border-b border-white/5\">\r\n                    <Link href=\"/dashboard\" className=\"text-gray-400 hover:text-white transition-colors\">\r\n                        <ArrowLeft className=\"w-5 h-5\" />\r\n                    </Link>\r\n                    <input\r\n                        type=\"text\"\r\n                        value={agentName}\r\n                        onChange={(e) => setAgentName(e.target.value)}\r\n                        className=\"bg-transparent text-white text-lg font-medium focus:outline-none border-b border-transparent focus:border-white/30 transition-colors\"\r\n                        placeholder=\"Agent Name\"\r\n                    />\r\n                </div>\r\n\r\n                {/* Avatar Preview Area */}\r\n                <div className=\"flex-1 flex flex-col items-center justify-center p-8\">\r\n                    <div className=\"relative w-full max-w-md aspect-video rounded-2xl overflow-hidden bg-[#111111] border border-white/5\">\r\n                        {selectedFaceData ? (\r\n                            <Image\r\n                                src={selectedFaceData.thumbnail}\r\n                                alt={selectedFaceData.name}\r\n                                fill\r\n                                className=\"object-cover\"\r\n                            />\r\n                        ) : (\r\n                            <div className=\"absolute inset-0 flex items-center justify-center\">\r\n                                <div className=\"text-center\">\r\n                                    <div className=\"w-20 h-20 rounded-full bg-white/10 flex items-center justify-center mx-auto mb-4\">\r\n                                        <Sparkles className=\"w-8 h-8 text-gray-500\" />\r\n                                    </div>\r\n                                    <p className=\"text-gray-500\">Select an avatar to preview</p>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Start Button */}\r\n                    <button\r\n                        onClick={handleStart}\r\n                        disabled={starting || !selectedFace}\r\n                        className=\"mt-6 flex items-center gap-2 px-6 py-2.5 rounded-full bg-[#1a1a1a] border border-white/10 text-white text-sm font-medium hover:bg-[#252525] transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                    >\r\n                        {starting ? (\r\n                            <Loader2 className=\"w-4 h-4 animate-spin\" />\r\n                        ) : (\r\n                            <Play className=\"w-4 h-4\" />\r\n                        )}\r\n                        {starting ? 'Starting...' : 'Start'}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Right Panel - Configuration */}\r\n            <div className=\"flex-1 flex flex-col\">\r\n                {/* Header with Save button */}\r\n                <div className=\"flex items-center justify-between px-6 py-4 border-b border-white/5\">\r\n                    {/* Tabs */}\r\n                    <div className=\"flex gap-1\">\r\n                        {tabs.map((tab) => (\r\n                            <button\r\n                                key={tab.id}\r\n                                onClick={() => setActiveTab(tab.id)}\r\n                                className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${activeTab === tab.id\r\n                                    ? 'bg-[#1a1a1a] text-white'\r\n                                    : 'text-gray-500 hover:text-white hover:bg-white/5'\r\n                                    }`}\r\n                            >\r\n                                {tab.label}\r\n                            </button>\r\n                        ))}\r\n                    </div>\r\n\r\n                    {/* Save Button */}\r\n                    <button\r\n                        onClick={handleSave}\r\n                        disabled={saving}\r\n                        className=\"flex items-center gap-2 px-4 py-2 rounded-lg bg-white text-black text-sm font-medium hover:bg-gray-100 transition-colors disabled:opacity-50\"\r\n                    >\r\n                        {saving ? (\r\n                            <Loader2 className=\"w-4 h-4 animate-spin\" />\r\n                        ) : (\r\n                            <Save className=\"w-4 h-4\" />\r\n                        )}\r\n                        Save\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Error Message */}\r\n                {error && (\r\n                    <div className=\"mx-6 mt-4 p-3 rounded-lg bg-red-500/10 border border-red-500/30 text-red-400 text-sm\">\r\n                        {error}\r\n                    </div>\r\n                )}\r\n\r\n                {/* Tab Content */}\r\n                <div className=\"flex-1 overflow-y-auto p-6\">\r\n                    {/* Prompt Tab */}\r\n                    {activeTab === 'prompt' && (\r\n                        <div className=\"space-y-6\">\r\n                            <div>\r\n                                <div className=\"flex items-center justify-between mb-3\">\r\n                                    <label className=\"text-sm font-medium text-white flex items-center gap-2\">\r\n                                        System Prompt\r\n                                        <span className=\"w-4 h-4 rounded-full bg-white/10 flex items-center justify-center text-[10px] text-gray-400\">?</span>\r\n                                    </label>\r\n                                </div>\r\n\r\n                                {/* Description Input */}\r\n                                <div className=\"mb-4\">\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        value={promptDescription}\r\n                                        onChange={(e) => setPromptDescription(e.target.value)}\r\n                                        placeholder=\"A knowledgeable customer service agent...\"\r\n                                        className=\"w-full bg-[#111111] border border-white/10 rounded-lg px-4 py-2.5 text-white text-sm placeholder-gray-500 focus:outline-none focus:border-white/20\"\r\n                                    />\r\n                                </div>\r\n\r\n                                {/* Website URL Input with Generate */}\r\n                                <div className=\"mb-4\">\r\n                                    <label className=\"block text-sm text-gray-400 mb-2\">\r\n                                        <Globe className=\"w-4 h-4 inline mr-1\" />\r\n                                        Website URL (for knowledge ingestion)\r\n                                    </label>\r\n                                    <div className=\"flex gap-3\">\r\n                                        <input\r\n                                            type=\"url\"\r\n                                            value={websiteUrl}\r\n                                            onChange={(e) => setWebsiteUrl(e.target.value)}\r\n                                            placeholder=\"https://yourwebsite.com\"\r\n                                            className=\"flex-1 bg-[#111111] border border-white/10 rounded-lg px-4 py-2.5 text-white text-sm placeholder-gray-500 focus:outline-none focus:border-white/20\"\r\n                                            disabled={crawling || crawlStatus === 'completed'}\r\n                                        />\r\n                                        <button\r\n                                            onClick={handleGenerate}\r\n                                            disabled={crawling || crawlStatus === 'completed' || !websiteUrl.trim()}\r\n                                            className=\"px-5 py-2.5 rounded-lg bg-[#3a3a3a] text-white text-sm font-medium hover:bg-[#4a4a4a] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2\"\r\n                                        >\r\n                                            {crawling ? (\r\n                                                <><Loader2 className=\"w-4 h-4 animate-spin\" /> Crawling...</>\r\n                                            ) : crawlStatus === 'completed' ? (\r\n                                                <><CheckCircle className=\"w-4 h-4\" /> Done</>\r\n                                            ) : (\r\n                                                'Generate'\r\n                                            )}\r\n                                        </button>\r\n                                    </div>\r\n\r\n                                    {/* Crawl Status */}\r\n                                    {crawlStatus === 'completed' && (\r\n                                        <div className=\"mt-2 flex items-center gap-2 text-green-400 text-sm\">\r\n                                            <CheckCircle className=\"w-4 h-4\" />\r\n                                            Successfully crawled {pagesCrawled} pages\r\n                                        </div>\r\n                                    )}\r\n                                    {crawlStatus === 'failed' && (\r\n                                        <div className=\"mt-2 flex items-center gap-2 text-red-400 text-sm\">\r\n                                            <AlertCircle className=\"w-4 h-4\" />\r\n                                            Crawl failed. Check URL and try again.\r\n                                        </div>\r\n                                    )}\r\n                                    {crawling && (\r\n                                        <div className=\"mt-2 text-gray-400 text-sm\">\r\n                                            Crawling website... This may take a minute.\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n\r\n                                {/* System Prompt Textarea */}\r\n                                <textarea\r\n                                    value={systemPrompt}\r\n                                    onChange={(e) => setSystemPrompt(e.target.value)}\r\n                                    className=\"w-full h-[400px] bg-[#111111] border border-white/10 rounded-lg px-4 py-3 text-white text-sm font-mono leading-relaxed placeholder-gray-500 focus:outline-none focus:border-white/20 resize-none\"\r\n                                    placeholder=\"Enter your system prompt...\"\r\n                                />\r\n\r\n                                {/* Footer */}\r\n                                <div className=\"flex items-center justify-between mt-4\">\r\n                                    <label className=\"flex items-center gap-2 text-sm text-gray-400 cursor-pointer\">\r\n                                        <input\r\n                                            type=\"checkbox\"\r\n                                            checked={skipGreeting}\r\n                                            onChange={(e) => setSkipGreeting(e.target.checked)}\r\n                                            className=\"w-4 h-4 rounded bg-[#111111] border border-white/20 text-white focus:ring-0 focus:ring-offset-0\"\r\n                                        />\r\n                                        Skip greeting\r\n                                    </label>\r\n                                    <div className=\"text-sm text-gray-500\">\r\n                                        <span className=\"text-white\">{tokenCount}</span> / 120,000 tokens\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Avatar Tab */}\r\n                    {activeTab === 'avatar' && (\r\n                        <div className=\"space-y-4\">\r\n                            <h3 className=\"text-lg font-medium text-white mb-4\">Select Avatar</h3>\r\n                            <FaceGallery\r\n                                selectedFace={selectedFace}\r\n                                onSelect={setSelectedFace}\r\n                            />\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Voice Tab */}\r\n                    {activeTab === 'voice' && (\r\n                        <div className=\"space-y-4\">\r\n                            <h3 className=\"text-lg font-medium text-white mb-4\">Select Voice</h3>\r\n                            <VoiceSelector\r\n                                selectedVoice={selectedVoice}\r\n                                onSelect={setSelectedVoice}\r\n                            />\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* LLM Tab */}\r\n                    {activeTab === 'llm' && (\r\n                        <div className=\"space-y-4\">\r\n                            <h3 className=\"text-lg font-medium text-white mb-4\">LLM Configuration</h3>\r\n                            <div className=\"bg-[#111111] rounded-xl border border-white/5 p-6\">\r\n                                <p className=\"text-gray-400 text-sm\">LLM configuration coming soon. Default model will be used.</p>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Tools Tab */}\r\n                    {activeTab === 'tools' && (\r\n                        <div className=\"space-y-4\">\r\n                            <div className=\"flex items-center gap-2\">\r\n                                <h3 className=\"text-lg font-medium text-white\">Tools</h3>\r\n                                <span className=\"px-2 py-0.5 text-xs font-medium bg-white/10 text-gray-400 rounded\">Beta</span>\r\n                            </div>\r\n                            <div className=\"bg-[#111111] rounded-xl border border-white/5 p-6\">\r\n                                <p className=\"text-gray-400 text-sm\">Tools configuration coming soon. Connect external APIs and functions to your agent.</p>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\app\\dashboard\\api-keys\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Copy' is defined but never used. Allowed unused vars must match /^_/u.","line":4,"column":21,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":25},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Eye' is defined but never used. Allowed unused vars must match /^_/u.","line":4,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":30},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'EyeOff' is defined but never used. Allowed unused vars must match /^_/u.","line":4,"column":32,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":38},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Trash2' is defined but never used. Allowed unused vars must match /^_/u.","line":4,"column":40,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":46},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'showKey' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":8,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'setShowKey' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":8,"column":21,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":31}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { DashboardSidebar } from '@/components/DashboardSidebar';\r\nimport { Key, Plus, Copy, Eye, EyeOff, Trash2 } from 'lucide-react';\r\nimport { useState } from 'react';\r\n\r\nexport default function APIKeysPage() {\r\n    const [showKey, setShowKey] = useState(false);\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-black flex\">\r\n            <DashboardSidebar />\r\n\r\n            <main className=\"flex-1 ml-56 p-8\">\r\n                <div className=\"max-w-6xl mx-auto\">\r\n                    <div className=\"flex items-center justify-between mb-8\">\r\n                        <div>\r\n                            <h1 className=\"text-2xl font-bold text-white\">API Keys</h1>\r\n                            <p className=\"text-gray-400 mt-1\">Manage your API keys for programmatic access</p>\r\n                        </div>\r\n                        <button className=\"flex items-center gap-2 px-4 py-2 rounded-lg bg-white text-black text-sm font-medium hover:bg-gray-100 transition-colors\">\r\n                            <Plus className=\"w-4 h-4\" />\r\n                            Create Key\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div className=\"bg-[#111111] rounded-2xl border border-white/5 p-12 text-center\">\r\n                        <div className=\"w-16 h-16 rounded-full bg-white/10 flex items-center justify-center mx-auto mb-4\">\r\n                            <Key className=\"w-8 h-8 text-gray-500\" />\r\n                        </div>\r\n                        <h3 className=\"text-lg font-medium text-white mb-2\">No API keys</h3>\r\n                        <p className=\"text-gray-400 text-sm mb-6\">Create an API key to integrate with your applications</p>\r\n                        <button className=\"px-4 py-2 rounded-lg bg-white text-black text-sm font-medium hover:bg-gray-100 transition-colors\">\r\n                            Create API Key\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </main>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\app\\dashboard\\avatars\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'UserCircle' is defined but never used. Allowed unused vars must match /^_/u.","line":4,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":20},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Plus' is defined but never used. Allowed unused vars must match /^_/u.","line":4,"column":22,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":26}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { DashboardSidebar } from '@/components/DashboardSidebar';\r\nimport { UserCircle, Plus } from 'lucide-react';\r\nimport Image from 'next/image';\r\nimport { AVAILABLE_FACES } from '@/lib/simile';\r\n\r\nexport default function AvatarsPage() {\r\n    return (\r\n        <div className=\"min-h-screen bg-black flex\">\r\n            <DashboardSidebar />\r\n\r\n            <main className=\"flex-1 ml-56 p-8\">\r\n                <div className=\"max-w-6xl mx-auto\">\r\n                    <div className=\"flex items-center justify-between mb-8\">\r\n                        <div>\r\n                            <h1 className=\"text-2xl font-bold text-white\">Avatars</h1>\r\n                            <p className=\"text-gray-400 mt-1\">Browse and manage available avatars</p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4\">\r\n                        {AVAILABLE_FACES.map((face) => (\r\n                            <div\r\n                                key={face.id}\r\n                                className=\"relative aspect-[3/4] rounded-2xl overflow-hidden bg-[#111111] border border-white/5 group cursor-pointer hover:border-white/20 transition-all\"\r\n                            >\r\n                                <Image\r\n                                    src={face.thumbnail}\r\n                                    alt={face.name}\r\n                                    fill\r\n                                    className=\"object-cover transition-transform duration-300 group-hover:scale-105\"\r\n                                    sizes=\"(max-width: 640px) 50vw, (max-width: 1024px) 33vw, 20vw\"\r\n                                />\r\n                                <div className=\"absolute bottom-0 inset-x-0 p-3 bg-gradient-to-t from-black/80 to-transparent\">\r\n                                    <h3 className=\"text-white font-medium\">{face.name}</h3>\r\n                                    <p className=\"text-xs text-gray-400 capitalize\">{face.gender}</p>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </main>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\app\\dashboard\\docs\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'FileText' is defined but never used. Allowed unused vars must match /^_/u.","line":4,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":18}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { DashboardSidebar } from '@/components/DashboardSidebar';\r\nimport { FileText, ExternalLink, Book, Code, Zap } from 'lucide-react';\r\n\r\nconst docs = [\r\n    { title: 'Getting Started', description: 'Quick start guide to create your first agent', icon: Zap },\r\n    { title: 'API Reference', description: 'Complete API documentation', icon: Code },\r\n    { title: 'Guides', description: 'In-depth tutorials and best practices', icon: Book },\r\n];\r\n\r\nexport default function DocsPage() {\r\n    return (\r\n        <div className=\"min-h-screen bg-black flex\">\r\n            <DashboardSidebar />\r\n\r\n            <main className=\"flex-1 ml-56 p-8\">\r\n                <div className=\"max-w-6xl mx-auto\">\r\n                    <div className=\"flex items-center justify-between mb-8\">\r\n                        <div>\r\n                            <h1 className=\"text-2xl font-bold text-white\">Documentation</h1>\r\n                            <p className=\"text-gray-400 mt-1\">Learn how to integrate and use the API</p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                        {docs.map((doc) => {\r\n                            const Icon = doc.icon;\r\n                            return (\r\n                                <div\r\n                                    key={doc.title}\r\n                                    className=\"bg-[#111111] rounded-2xl border border-white/5 p-6 hover:border-white/20 transition-all cursor-pointer group\"\r\n                                >\r\n                                    <div className=\"w-12 h-12 rounded-xl bg-white/10 flex items-center justify-center mb-4\">\r\n                                        <Icon className=\"w-6 h-6 text-gray-400\" />\r\n                                    </div>\r\n                                    <div className=\"flex items-center gap-2 mb-2\">\r\n                                        <h3 className=\"text-white font-medium\">{doc.title}</h3>\r\n                                        <ExternalLink className=\"w-4 h-4 text-gray-500 opacity-0 group-hover:opacity-100 transition-opacity\" />\r\n                                    </div>\r\n                                    <p className=\"text-sm text-gray-400\">{doc.description}</p>\r\n                                </div>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                </div>\r\n            </main>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\app\\dashboard\\feedback\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\app\\dashboard\\knowledge\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\app\\dashboard\\llms\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\app\\dashboard\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'agents' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":24,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":24,"endColumn":18}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useSession } from 'next-auth/react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { DashboardSidebar } from '@/components/DashboardSidebar';\r\nimport { AgentTemplates } from '@/components/AgentTemplates';\r\nimport { DeveloperQuickstart } from '@/components/DeveloperQuickstart';\r\nimport { UsageChart } from '@/components/UsageChart';\r\nimport { EmbedModal } from '@/components/EmbedModal';\r\nimport { Agent } from '@/lib/types';\r\n\r\n// Get greeting based on time of day\r\nfunction getGreeting(): string {\r\n    const hour = new Date().getHours();\r\n    if (hour < 12) return 'Good morning';\r\n    if (hour < 17) return 'Good afternoon';\r\n    return 'Good evening';\r\n}\r\n\r\nexport default function DashboardPage() {\r\n    const { data: session, status } = useSession();\r\n    const router = useRouter();\r\n    const [agents, setAgents] = useState<Agent[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [embedAgent, setEmbedAgent] = useState<Agent | null>(null);\r\n\r\n    useEffect(() => {\r\n        if (status === 'unauthenticated') {\r\n            router.push('/auth/login');\r\n        } else if (status === 'authenticated') {\r\n            loadAgents();\r\n        }\r\n    }, [status, router]);\r\n\r\n    const loadAgents = async () => {\r\n        try {\r\n            const res = await fetch('/api/agents');\r\n            if (res.ok) {\r\n                const data = await res.json();\r\n                setAgents(data.agents || []);\r\n            }\r\n        } catch (error) {\r\n            console.error('Failed to load agents:', error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    // Get user display name\r\n    const userName = session?.user?.name || session?.user?.email?.split('@')[0] || 'User';\r\n    const orgName = `${userName.toUpperCase()}'s Organization`;\r\n\r\n    if (status === 'loading' || loading) {\r\n        return (\r\n            <div className=\"min-h-screen bg-black flex items-center justify-center\">\r\n                <div className=\"w-10 h-10 border-3 border-white/30 border-t-white rounded-full animate-spin\" />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-black flex\">\r\n            {/* Sidebar */}\r\n            <DashboardSidebar />\r\n\r\n            {/* Main Content */}\r\n            <main className=\"flex-1 ml-56 min-h-screen\">\r\n                <div className=\"max-w-5xl mx-auto px-8 py-10\">\r\n                    {/* Header with Greeting */}\r\n                    <div className=\"mb-10\">\r\n                        <p className=\"text-sm text-gray-500 mb-1\">{orgName}</p>\r\n                        <h1 className=\"text-3xl font-bold text-white\">\r\n                            {getGreeting()}, <span className=\"text-white\">{userName.toUpperCase()}</span>\r\n                        </h1>\r\n                    </div>\r\n\r\n                    {/* Agent Templates */}\r\n                    <AgentTemplates />\r\n\r\n                    {/* Two Column Grid: Developer Quickstart + Minutes Used */}\r\n                    <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n                        <DeveloperQuickstart />\r\n                        <UsageChart />\r\n                    </div>\r\n                </div>\r\n            </main>\r\n\r\n            {/* Embed Modal */}\r\n            {embedAgent && (\r\n                <EmbedModal\r\n                    agentId={embedAgent.id}\r\n                    agentName={embedAgent.name}\r\n                    onClose={() => setEmbedAgent(null)}\r\n                />\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\app\\dashboard\\personas\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\app\\dashboard\\sessions\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Calendar' is defined but never used. Allowed unused vars must match /^_/u.","line":4,"column":21,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":29},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Clock' is defined but never used. Allowed unused vars must match /^_/u.","line":4,"column":31,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":36},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'User' is defined but never used. Allowed unused vars must match /^_/u.","line":4,"column":38,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":42}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { DashboardSidebar } from '@/components/DashboardSidebar';\r\nimport { BarChart3, Calendar, Clock, User } from 'lucide-react';\r\n\r\nexport default function SessionsPage() {\r\n    return (\r\n        <div className=\"min-h-screen bg-black flex\">\r\n            <DashboardSidebar />\r\n\r\n            <main className=\"flex-1 ml-56 p-8\">\r\n                <div className=\"max-w-6xl mx-auto\">\r\n                    <div className=\"flex items-center justify-between mb-8\">\r\n                        <div>\r\n                            <h1 className=\"text-2xl font-bold text-white\">Sessions</h1>\r\n                            <p className=\"text-gray-400 mt-1\">View and analyze your agent sessions</p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"bg-[#111111] rounded-2xl border border-white/5 p-12 text-center\">\r\n                        <div className=\"w-16 h-16 rounded-full bg-white/10 flex items-center justify-center mx-auto mb-4\">\r\n                            <BarChart3 className=\"w-8 h-8 text-gray-500\" />\r\n                        </div>\r\n                        <h3 className=\"text-lg font-medium text-white mb-2\">No sessions yet</h3>\r\n                        <p className=\"text-gray-400 text-sm mb-6\">Sessions will appear here once users interact with your agents</p>\r\n                    </div>\r\n                </div>\r\n            </main>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\app\\dashboard\\settings\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Settings' is defined but never used. Allowed unused vars must match /^_/u.","line":4,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":18},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Palette' is defined but never used. Allowed unused vars must match /^_/u.","line":4,"column":40,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":47}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { DashboardSidebar } from '@/components/DashboardSidebar';\r\nimport { Settings, User, Bell, Shield, Palette } from 'lucide-react';\r\n\r\nexport default function SettingsPage() {\r\n    return (\r\n        <div className=\"min-h-screen bg-black flex\">\r\n            <DashboardSidebar />\r\n\r\n            <main className=\"flex-1 ml-56 p-8\">\r\n                <div className=\"max-w-4xl mx-auto\">\r\n                    <div className=\"mb-8\">\r\n                        <h1 className=\"text-2xl font-bold text-white\">Settings</h1>\r\n                        <p className=\"text-gray-400 mt-1\">Manage your account preferences</p>\r\n                    </div>\r\n\r\n                    <div className=\"space-y-4\">\r\n                        <div className=\"bg-[#111111] rounded-2xl border border-white/5 p-6\">\r\n                            <div className=\"flex items-center gap-4 mb-4\">\r\n                                <div className=\"w-10 h-10 rounded-xl bg-white/10 flex items-center justify-center\">\r\n                                    <User className=\"w-5 h-5 text-gray-400\" />\r\n                                </div>\r\n                                <div>\r\n                                    <h3 className=\"text-white font-medium\">Profile</h3>\r\n                                    <p className=\"text-sm text-gray-400\">Manage your personal information</p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"bg-[#111111] rounded-2xl border border-white/5 p-6\">\r\n                            <div className=\"flex items-center gap-4 mb-4\">\r\n                                <div className=\"w-10 h-10 rounded-xl bg-white/10 flex items-center justify-center\">\r\n                                    <Bell className=\"w-5 h-5 text-gray-400\" />\r\n                                </div>\r\n                                <div>\r\n                                    <h3 className=\"text-white font-medium\">Notifications</h3>\r\n                                    <p className=\"text-sm text-gray-400\">Configure email and push notifications</p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"bg-[#111111] rounded-2xl border border-white/5 p-6\">\r\n                            <div className=\"flex items-center gap-4 mb-4\">\r\n                                <div className=\"w-10 h-10 rounded-xl bg-white/10 flex items-center justify-center\">\r\n                                    <Shield className=\"w-5 h-5 text-gray-400\" />\r\n                                </div>\r\n                                <div>\r\n                                    <h3 className=\"text-white font-medium\">Security</h3>\r\n                                    <p className=\"text-sm text-gray-400\">Password and two-factor authentication</p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </main>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\app\\dashboard\\subscription\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CreditCard' is defined but never used. Allowed unused vars must match /^_/u.","line":4,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":20},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Zap' is defined but never used. Allowed unused vars must match /^_/u.","line":4,"column":29,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":32}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { DashboardSidebar } from '@/components/DashboardSidebar';\r\nimport { CreditCard, Check, Zap } from 'lucide-react';\r\n\r\nconst plans = [\r\n    {\r\n        name: 'Free',\r\n        price: '$0',\r\n        period: '/month',\r\n        features: ['100 minutes/month', '1 agent', 'Basic avatars', 'Community support'],\r\n        current: true\r\n    },\r\n    {\r\n        name: 'Pro',\r\n        price: '$49',\r\n        period: '/month',\r\n        features: ['1,000 minutes/month', '5 agents', 'All avatars', 'Priority support', 'Custom branding'],\r\n        current: false\r\n    },\r\n    {\r\n        name: 'Enterprise',\r\n        price: 'Custom',\r\n        period: '',\r\n        features: ['Unlimited minutes', 'Unlimited agents', 'Custom avatars', 'Dedicated support', 'SLA guarantee'],\r\n        current: false\r\n    },\r\n];\r\n\r\nexport default function SubscriptionPage() {\r\n    return (\r\n        <div className=\"min-h-screen bg-black flex\">\r\n            <DashboardSidebar />\r\n\r\n            <main className=\"flex-1 ml-56 p-8\">\r\n                <div className=\"max-w-6xl mx-auto\">\r\n                    <div className=\"flex items-center justify-between mb-8\">\r\n                        <div>\r\n                            <h1 className=\"text-2xl font-bold text-white\">Subscription</h1>\r\n                            <p className=\"text-gray-400 mt-1\">Manage your plan and billing</p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                        {plans.map((plan) => (\r\n                            <div\r\n                                key={plan.name}\r\n                                className={`bg-[#111111] rounded-2xl border p-6 ${plan.current ? 'border-white/20' : 'border-white/5'\r\n                                    }`}\r\n                            >\r\n                                <div className=\"flex items-center justify-between mb-4\">\r\n                                    <h3 className=\"text-lg font-medium text-white\">{plan.name}</h3>\r\n                                    {plan.current && (\r\n                                        <span className=\"px-2 py-1 text-xs font-medium bg-white/10 text-white rounded\">\r\n                                            Current\r\n                                        </span>\r\n                                    )}\r\n                                </div>\r\n                                <div className=\"mb-6\">\r\n                                    <span className=\"text-3xl font-bold text-white\">{plan.price}</span>\r\n                                    <span className=\"text-gray-400\">{plan.period}</span>\r\n                                </div>\r\n                                <ul className=\"space-y-3 mb-6\">\r\n                                    {plan.features.map((feature) => (\r\n                                        <li key={feature} className=\"flex items-center gap-2 text-sm text-gray-400\">\r\n                                            <Check className=\"w-4 h-4 text-white\" />\r\n                                            {feature}\r\n                                        </li>\r\n                                    ))}\r\n                                </ul>\r\n                                <button\r\n                                    className={`w-full py-2 rounded-lg text-sm font-medium transition-colors ${plan.current\r\n                                            ? 'bg-white/5 text-gray-400 cursor-default'\r\n                                            : 'bg-white text-black hover:bg-gray-100'\r\n                                        }`}\r\n                                    disabled={plan.current}\r\n                                >\r\n                                    {plan.current ? 'Current Plan' : 'Upgrade'}\r\n                                </button>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </main>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\app\\dashboard\\tools\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\app\\dashboard\\voices\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Volume2' is defined but never used. Allowed unused vars must match /^_/u.","line":4,"column":22,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":29}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { DashboardSidebar } from '@/components/DashboardSidebar';\r\nimport { Mic2, Play, Volume2 } from 'lucide-react';\r\n\r\nconst voices = [\r\n    { id: '1', name: 'Sarah', gender: 'Female', accent: 'American', preview: true },\r\n    { id: '2', name: 'James', gender: 'Male', accent: 'British', preview: true },\r\n    { id: '3', name: 'Emma', gender: 'Female', accent: 'Australian', preview: true },\r\n    { id: '4', name: 'Michael', gender: 'Male', accent: 'American', preview: true },\r\n];\r\n\r\nexport default function VoicesPage() {\r\n    return (\r\n        <div className=\"min-h-screen bg-black flex\">\r\n            <DashboardSidebar />\r\n\r\n            <main className=\"flex-1 ml-56 p-8\">\r\n                <div className=\"max-w-6xl mx-auto\">\r\n                    <div className=\"flex items-center justify-between mb-8\">\r\n                        <div>\r\n                            <h1 className=\"text-2xl font-bold text-white\">Voices</h1>\r\n                            <p className=\"text-gray-400 mt-1\">Browse available voice options for your agents</p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                        {voices.map((voice) => (\r\n                            <div\r\n                                key={voice.id}\r\n                                className=\"bg-[#111111] rounded-2xl border border-white/5 p-6 hover:border-white/20 transition-all cursor-pointer\"\r\n                            >\r\n                                <div className=\"flex items-start justify-between mb-4\">\r\n                                    <div className=\"w-12 h-12 rounded-full bg-white/10 flex items-center justify-center\">\r\n                                        <Mic2 className=\"w-6 h-6 text-gray-400\" />\r\n                                    </div>\r\n                                    <button className=\"p-2 rounded-lg bg-white/5 hover:bg-white/10 transition-colors\">\r\n                                        <Play className=\"w-4 h-4 text-white\" />\r\n                                    </button>\r\n                                </div>\r\n                                <h3 className=\"text-white font-medium mb-1\">{voice.name}</h3>\r\n                                <p className=\"text-sm text-gray-400\">{voice.gender} ΓÇó {voice.accent}</p>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </main>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\app\\edit\\[id]\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used.","line":41,"column":22,"nodeType":null,"messageId":"unusedVar","endLine":41,"endColumn":25},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used.","line":75,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":75,"endColumn":21}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport { ArrowLeft, Save, Loader2 } from 'lucide-react';\r\nimport { FaceGallery } from '@/components/FaceGallery';\r\nimport { VoiceSelector } from '@/components/VoiceSelector';\r\nimport { Agent } from '@/lib/types';\r\n\r\ninterface EditAgentPageProps {\r\n    params: Promise<{ id: string }>;\r\n}\r\n\r\nexport default function EditAgentPage({ params }: EditAgentPageProps) {\r\n    const router = useRouter();\r\n    const [agent, setAgent] = useState<Agent | null>(null);\r\n    const [name, setName] = useState('');\r\n    const [websiteUrl, setWebsiteUrl] = useState('');\r\n    const [selectedFace, setSelectedFace] = useState('');\r\n    const [selectedVoice, setSelectedVoice] = useState('');\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [isSaving, setIsSaving] = useState(false);\r\n    const [error, setError] = useState('');\r\n    const [success, setSuccess] = useState('');\r\n\r\n    useEffect(() => {\r\n        async function loadAgent() {\r\n            try {\r\n                const { id } = await params;\r\n                const response = await fetch(`/api/agents/${id}`);\r\n                if (!response.ok) {\r\n                    throw new Error('Agent not found');\r\n                }\r\n                const data = await response.json();\r\n                setAgent(data);\r\n                setName(data.name || '');\r\n                setWebsiteUrl(data.websiteUrl || '');\r\n                setSelectedFace(data.faceId || '');\r\n                setSelectedVoice(data.voiceId || '');\r\n            } catch (err) {\r\n                setError('Failed to load agent');\r\n            } finally {\r\n                setIsLoading(false);\r\n            }\r\n        }\r\n        loadAgent();\r\n    }, [params]);\r\n\r\n    const handleSave = async () => {\r\n        if (!agent) return;\r\n\r\n        setIsSaving(true);\r\n        setError('');\r\n        setSuccess('');\r\n\r\n        try {\r\n            const response = await fetch(`/api/agents/${agent.id}`, {\r\n                method: 'PUT',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                    name,\r\n                    websiteUrl,\r\n                    faceId: selectedFace,\r\n                    voiceId: selectedVoice,\r\n                }),\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error('Failed to update agent');\r\n            }\r\n\r\n            setSuccess('Agent updated successfully!');\r\n            setTimeout(() => router.push('/dashboard'), 1500);\r\n        } catch (err) {\r\n            setError('Failed to save changes');\r\n        } finally {\r\n            setIsSaving(false);\r\n        }\r\n    };\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <div className=\"min-h-screen bg-black flex items-center justify-center\">\r\n                <Loader2 className=\"w-8 h-8 text-white animate-spin\" />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!agent) {\r\n        return (\r\n            <div className=\"min-h-screen bg-black flex items-center justify-center text-white\">\r\n                <div className=\"text-center\">\r\n                    <h1 className=\"text-2xl font-bold mb-4\">Agent Not Found</h1>\r\n                    <Link href=\"/dashboard\" className=\"text-gray-400 hover:text-white\">\r\n                        Return to Dashboard\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-black\">\r\n            {/* Header */}\r\n            <header className=\"px-6 py-4 border-b border-white/10 flex items-center justify-between\">\r\n                <Link href=\"/dashboard\" className=\"flex items-center gap-2 text-gray-400 hover:text-white transition-colors\">\r\n                    <ArrowLeft className=\"w-5 h-5\" />\r\n                    <span>Back to Dashboard</span>\r\n                </Link>\r\n                <h1 className=\"text-xl font-semibold text-white\">Edit Agent</h1>\r\n                <div className=\"w-32\" />\r\n            </header>\r\n\r\n            {/* Main Content */}\r\n            <main className=\"max-w-4xl mx-auto p-6 space-y-8\">\r\n                {/* Status Messages */}\r\n                {error && (\r\n                    <div className=\"p-4 rounded-xl bg-red-500/20 border border-red-500/50 text-red-300\">\r\n                        {error}\r\n                    </div>\r\n                )}\r\n                {success && (\r\n                    <div className=\"p-4 rounded-xl bg-green-500/20 border border-green-500/50 text-green-300\">\r\n                        {success}\r\n                    </div>\r\n                )}\r\n\r\n                {/* Basic Info */}\r\n                <section className=\"bg-white/5 border border-white/10 rounded-2xl p-6 space-y-6\">\r\n                    <h2 className=\"text-lg font-semibold text-white\">Basic Information</h2>\r\n\r\n                    <div className=\"space-y-4\">\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                                Agent Name\r\n                            </label>\r\n                            <input\r\n                                type=\"text\"\r\n                                value={name}\r\n                                onChange={(e) => setName(e.target.value)}\r\n                                className=\"w-full bg-slate-800 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-white/30\"\r\n                                placeholder=\"My Agent\"\r\n                            />\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                                Website URL\r\n                            </label>\r\n                            <input\r\n                                type=\"url\"\r\n                                value={websiteUrl}\r\n                                onChange={(e) => setWebsiteUrl(e.target.value)}\r\n                                className=\"w-full bg-slate-800 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-white/30\"\r\n                                placeholder=\"https://example.com\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n\r\n                {/* Face Selection */}\r\n                <section className=\"bg-white/5 border border-white/10 rounded-2xl p-6 space-y-6\">\r\n                    <h2 className=\"text-lg font-semibold text-white\">Avatar Face</h2>\r\n                    <FaceGallery\r\n                        selectedFace={selectedFace}\r\n                        onSelect={setSelectedFace}\r\n                    />\r\n                </section>\r\n\r\n                {/* Voice Selection */}\r\n                <section className=\"bg-white/5 border border-white/10 rounded-2xl p-6 space-y-6\">\r\n                    <h2 className=\"text-lg font-semibold text-white\">Voice</h2>\r\n                    <VoiceSelector\r\n                        selectedVoice={selectedVoice}\r\n                        onSelect={setSelectedVoice}\r\n                    />\r\n                </section>\r\n\r\n                {/* Save Button */}\r\n                <div className=\"flex justify-end gap-4\">\r\n                    <Link\r\n                        href=\"/dashboard\"\r\n                        className=\"px-6 py-3 rounded-xl bg-slate-700 text-white font-medium hover:bg-slate-600 transition-colors\"\r\n                    >\r\n                        Cancel\r\n                    </Link>\r\n                    <button\r\n                        onClick={handleSave}\r\n                        disabled={isSaving}\r\n                        className=\"flex items-center gap-2 px-6 py-3 rounded-xl bg-white text-black font-semibold hover:bg-gray-100 transition-colors disabled:opacity-50\"\r\n                    >\r\n                        {isSaving ? (\r\n                            <>\r\n                                <Loader2 className=\"w-5 h-5 animate-spin\" />\r\n                                Saving...\r\n                            </>\r\n                        ) : (\r\n                            <>\r\n                                <Save className=\"w-5 h-5\" />\r\n                                Save Changes\r\n                            </>\r\n                        )}\r\n                    </button>\r\n                </div>\r\n            </main>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\app\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\app\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Shield' is defined but never used. Allowed unused vars must match /^_/u.","line":4,"column":56,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":62},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Clock' is defined but never used. Allowed unused vars must match /^_/u.","line":4,"column":64,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":69},{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\app\\page.tsx:20:5\n  18 |       duration: 3 + Math.random() * 4,\n  19 |     }));\n> 20 |     setParticles(newParticles);\n     |     ^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  21 |   }, []);\n  22 |\n  23 |   return (","line":20,"column":5,"nodeType":null,"endLine":20,"endColumn":17},{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\app\\page.tsx:84:5\n  82 |    \n  83 |   useEffect(() => {\n> 84 |     setMounted(true);\n     |     ^^^^^^^^^^ Avoid calling setState() directly within an effect\n  85 |   }, []);\n  86 |\n  87 |   return (","line":84,"column":5,"nodeType":null,"endLine":84,"endColumn":15}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport Link from 'next/link';\nimport { Sparkles, Mic, Video, Globe, ArrowRight, Zap, Shield, Clock, Play } from 'lucide-react';\nimport { useEffect, useState } from 'react';\n\n// Animated particles background\nfunction ParticleField() {\n  const [particles, setParticles] = useState<Array<{ id: number; x: number; y: number; size: number; delay: number; duration: number }>>([]);\n\n  useEffect(() => {\n    const newParticles = Array.from({ length: 50 }, (_, i) => ({\n      id: i,\n      x: Math.random() * 100,\n      y: Math.random() * 100,\n      size: Math.random() * 3 + 1,\n      delay: Math.random() * 5,\n      duration: 3 + Math.random() * 4,\n    }));\n    setParticles(newParticles);\n  }, []);\n\n  return (\n    <div className=\"absolute inset-0 overflow-hidden pointer-events-none\">\n      {particles.map((p) => (\n        <div\n          key={p.id}\n          className=\"absolute rounded-full bg-white/20 animate-pulse\"\n          style={{\n            left: `${p.x}%`,\n            top: `${p.y}%`,\n            width: `${p.size}px`,\n            height: `${p.size}px`,\n            animationDelay: `${p.delay}s`,\n            animationDuration: `${p.duration}s`,\n          }}\n        />\n      ))}\n    </div>\n  );\n}\n\n// Floating orbs\nfunction FloatingOrbs() {\n  return (\n    <div className=\"absolute inset-0 overflow-hidden pointer-events-none\">\n      {/* Main glow orbs */}\n      <div className=\"absolute top-1/4 -left-32 w-96 h-96 bg-purple-600 rounded-full mix-blend-screen filter blur-[128px] opacity-40 animate-float\" />\n      <div className=\"absolute top-1/3 -right-32 w-80 h-80 bg-cyan-500 rounded-full mix-blend-screen filter blur-[100px] opacity-30 animate-float-delayed\" />\n      <div className=\"absolute bottom-1/4 left-1/3 w-72 h-72 bg-pink-500 rounded-full mix-blend-screen filter blur-[100px] opacity-25 animate-float-slow\" />\n      <div className=\"absolute -bottom-20 right-1/4 w-96 h-96 bg-blue-600 rounded-full mix-blend-screen filter blur-[128px] opacity-30 animate-float-delayed\" />\n    </div>\n  );\n}\n\n// Animated typing text\nfunction TypewriterText({ texts }: { texts: string[] }) {\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [isVisible, setIsVisible] = useState(true);\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setIsVisible(false);\n      setTimeout(() => {\n        setCurrentIndex((prev) => (prev + 1) % texts.length);\n        setIsVisible(true);\n      }, 500);\n    }, 3000);\n    return () => clearInterval(interval);\n  }, [texts.length]);\n\n  return (\n    <span className={`transition-opacity duration-500 ${isVisible ? 'opacity-100' : 'opacity-0'}`}>\n      {texts[currentIndex]}\n    </span>\n  );\n}\n\nexport default function HomePage() {\n  const [mounted, setMounted] = useState(false);\n\n   \n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  return (\n    <div className=\"min-h-screen bg-black relative overflow-hidden\">\n      {/* Dynamic background */}\n      <div className=\"fixed inset-0 bg-gradient-to-br from-slate-950 via-purple-950/30 to-slate-950\" />\n\n      {mounted && (\n        <>\n          <FloatingOrbs />\n          <ParticleField />\n        </>\n      )}\n\n      {/* Grid overlay */}\n      <div\n        className=\"fixed inset-0 opacity-[0.03]\"\n        style={{\n          backgroundImage: `linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px), \n                           linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px)`,\n          backgroundSize: '100px 100px',\n        }}\n      />\n\n      <div className=\"relative\">\n        {/* Hero Section */}\n        <div className=\"relative min-h-screen flex flex-col\">\n          {/* Nav */}\n          <nav className=\"relative z-50 px-6 py-6 lg:px-16\">\n            <div className=\"flex items-center justify-between max-w-7xl mx-auto\">\n              <div className=\"flex items-center gap-3 group cursor-pointer\">\n                <div className=\"w-12 h-12 rounded-2xl bg-gradient-to-br from-purple-500 via-pink-500 to-cyan-500 flex items-center justify-center shadow-lg shadow-purple-500/30 group-hover:shadow-purple-500/50 transition-all duration-500 group-hover:scale-110\">\n                  <Sparkles className=\"w-6 h-6 text-white\" />\n                </div>\n                <span className=\"text-2xl font-bold bg-gradient-to-r from-white to-gray-400 bg-clip-text text-transparent\">\n                  Talk to Site\n                </span>\n              </div>\n              <div className=\"flex items-center gap-6\">\n                <Link\n                  href=\"/auth/login\"\n                  className=\"text-gray-400 hover:text-white transition-colors duration-300 font-medium\"\n                >\n                  Sign In\n                </Link>\n                <Link\n                  href=\"/auth/signup\"\n                  className=\"relative group px-6 py-3 rounded-full overflow-hidden\"\n                >\n                  <div className=\"absolute inset-0 bg-gradient-to-r from-purple-600 via-pink-600 to-cyan-600 rounded-full\" />\n                  <div className=\"absolute inset-0 bg-gradient-to-r from-purple-600 via-pink-600 to-cyan-600 rounded-full blur-xl opacity-50 group-hover:opacity-100 transition-opacity\" />\n                  <span className=\"relative text-white font-semibold\">Get Started</span>\n                </Link>\n              </div>\n            </div>\n          </nav>\n\n          {/* Hero content */}\n          <div className=\"flex-1 flex items-center justify-center px-6 lg:px-16\">\n            <div className=\"text-center max-w-5xl mx-auto\">\n              {/* Badge */}\n              <div className=\"inline-flex items-center gap-2 px-5 py-2.5 rounded-full bg-white/5 border border-white/10 text-sm font-medium mb-8 backdrop-blur-xl\">\n                <span className=\"relative flex h-2 w-2\">\n                  <span className=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75\"></span>\n                  <span className=\"relative inline-flex rounded-full h-2 w-2 bg-green-500\"></span>\n                </span>\n                <span className=\"text-gray-300\">Now with Real-Time Lip-Sync Technology</span>\n              </div>\n\n              {/* Main heading */}\n              <h1 className=\"text-5xl sm:text-7xl lg:text-8xl font-black mb-8 leading-[0.9] tracking-tight\">\n                <span className=\"text-white\">Meet Your</span>\n                <br />\n                <span className=\"bg-gradient-to-r from-purple-400 via-pink-400 to-cyan-400 bg-clip-text text-transparent animate-gradient\">\n                  <TypewriterText texts={['AI Digital Twin', 'Voice Assistant', 'Sales Agent', 'Support Hero']} />\n                </span>\n              </h1>\n\n              {/* Subheading */}\n              <p className=\"text-xl sm:text-2xl text-gray-400 mb-12 max-w-3xl mx-auto leading-relaxed\">\n                Deploy hyper-realistic AI agents that see, speak, and understand.\n                <span className=\"text-white font-medium\"> Trained on your business in minutes.</span>\n              </p>\n\n              {/* CTA buttons */}\n              <div className=\"flex flex-col sm:flex-row items-center justify-center gap-4 mb-16\">\n                <Link\n                  href=\"/auth/signup\"\n                  className=\"group relative inline-flex items-center gap-3 px-10 py-5 rounded-2xl overflow-hidden transition-all duration-500 hover:scale-105\"\n                >\n                  <div className=\"absolute inset-0 bg-gradient-to-r from-purple-600 via-pink-600 to-cyan-600\" />\n                  <div className=\"absolute inset-0 bg-gradient-to-r from-purple-600 via-pink-600 to-cyan-600 blur-2xl opacity-50 group-hover:opacity-100 transition-opacity\" />\n                  <span className=\"relative text-white font-bold text-lg\">Create Your Agent</span>\n                  <ArrowRight className=\"relative w-5 h-5 text-white group-hover:translate-x-1 transition-transform\" />\n                </Link>\n                <button className=\"group inline-flex items-center gap-3 px-8 py-5 rounded-2xl bg-white/5 border border-white/10 hover:bg-white/10 hover:border-white/20 transition-all duration-300\">\n                  <div className=\"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center group-hover:bg-white/20 transition-all\">\n                    <Play className=\"w-4 h-4 text-white ml-0.5\" />\n                  </div>\n                  <span className=\"text-white font-semibold\">Watch Demo</span>\n                </button>\n              </div>\n\n              {/* Stats */}\n              <div className=\"flex flex-wrap items-center justify-center gap-8 sm:gap-16\">\n                <div className=\"text-center\">\n                  <div className=\"text-3xl sm:text-4xl font-bold text-white mb-1\">500ms</div>\n                  <div className=\"text-gray-500 text-sm\">Response Time</div>\n                </div>\n                <div className=\"text-center\">\n                  <div className=\"text-3xl sm:text-4xl font-bold text-white mb-1\">99.9%</div>\n                  <div className=\"text-gray-500 text-sm\">Uptime</div>\n                </div>\n                <div className=\"text-center\">\n                  <div className=\"text-3xl sm:text-4xl font-bold text-white mb-1\">50+</div>\n                  <div className=\"text-gray-500 text-sm\">Languages</div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Scroll indicator */}\n          <div className=\"absolute bottom-8 left-1/2 -translate-x-1/2 flex flex-col items-center gap-2 animate-bounce\">\n            <div className=\"w-6 h-10 rounded-full border-2 border-white/20 flex items-start justify-center p-2\">\n              <div className=\"w-1 h-2 bg-white/60 rounded-full animate-scroll\" />\n            </div>\n          </div>\n        </div>\n\n        {/* Features Section */}\n        <div className=\"relative py-32 px-6 lg:px-16\">\n          <div className=\"max-w-7xl mx-auto\">\n            <div className=\"text-center mb-20\">\n              <h2 className=\"text-4xl sm:text-5xl lg:text-6xl font-bold text-white mb-6\">\n                Built for the <span className=\"text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-cyan-400\">Future</span>\n              </h2>\n              <p className=\"text-xl text-gray-400 max-w-2xl mx-auto\">\n                Enterprise-grade AI meets stunning visual design\n              </p>\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n              {[\n                { icon: Video, title: 'Real-Time Faces', desc: 'Photorealistic lip-sync with emotional expressions', color: 'from-purple-500 to-purple-600' },\n                { icon: Mic, title: 'Voice Intelligence', desc: 'Natural conversations with instant understanding', color: 'from-pink-500 to-pink-600' },\n                { icon: Globe, title: 'Website Trained', desc: 'Learns your business from your content automatically', color: 'from-cyan-500 to-cyan-600' },\n                { icon: Zap, title: 'Lightning Fast', desc: 'Sub-500ms response for seamless interactions', color: 'from-amber-500 to-orange-600' },\n              ].map((feature, i) => (\n                <div\n                  key={i}\n                  className=\"group relative p-8 rounded-3xl bg-white/[0.02] border border-white/[0.05] hover:border-white/20 hover:bg-white/[0.05] transition-all duration-500\"\n                >\n                  <div className={`w-14 h-14 rounded-2xl bg-gradient-to-br ${feature.color} flex items-center justify-center mb-6 shadow-lg group-hover:scale-110 transition-transform duration-500`}>\n                    <feature.icon className=\"w-7 h-7 text-white\" />\n                  </div>\n                  <h3 className=\"text-xl font-bold text-white mb-3\">{feature.title}</h3>\n                  <p className=\"text-gray-400 leading-relaxed\">{feature.desc}</p>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        {/* CTA Section */}\n        <div className=\"relative py-32 px-6 lg:px-16\">\n          <div className=\"max-w-4xl mx-auto text-center\">\n            <div className=\"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-purple-500/10 to-cyan-500/10 border border-purple-500/20 mb-8\">\n              <Sparkles className=\"w-4 h-4 text-purple-400\" />\n              <span className=\"text-sm text-gray-300\">Start for free, upgrade anytime</span>\n            </div>\n            <h2 className=\"text-4xl sm:text-5xl lg:text-6xl font-bold text-white mb-6\">\n              Ready to transform your<br />\n              <span className=\"text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-pink-400 to-cyan-400\">\n                customer experience?\n              </span>\n            </h2>\n            <p className=\"text-xl text-gray-400 mb-10 max-w-2xl mx-auto\">\n              Join hundreds of businesses using Talk to Site to automate support,\n              generate leads, and delight customers 24/7.\n            </p>\n            <Link\n              href=\"/auth/signup\"\n              className=\"group relative inline-flex items-center gap-3 px-12 py-6 rounded-2xl overflow-hidden transition-all duration-500 hover:scale-105\"\n            >\n              <div className=\"absolute inset-0 bg-gradient-to-r from-purple-600 via-pink-600 to-cyan-600\" />\n              <div className=\"absolute inset-0 bg-gradient-to-r from-purple-600 via-pink-600 to-cyan-600 blur-2xl opacity-60 group-hover:opacity-100 transition-opacity\" />\n              <span className=\"relative text-white font-bold text-xl\">Start Building Now</span>\n              <ArrowRight className=\"relative w-6 h-6 text-white group-hover:translate-x-2 transition-transform\" />\n            </Link>\n          </div>\n        </div>\n\n        {/* Footer */}\n        <footer className=\"relative py-12 px-6 lg:px-16 border-t border-white/5\">\n          <div className=\"max-w-7xl mx-auto flex items-center justify-between\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"w-8 h-8 rounded-xl bg-gradient-to-br from-purple-500 to-cyan-500 flex items-center justify-center\">\n                <Sparkles className=\"w-4 h-4 text-white\" />\n              </div>\n              <span className=\"text-gray-500\">Talk to Site</span>\n            </div>\n            <p className=\"text-gray-600 text-sm\">\n              ┬⌐ 2026 Talk to Site. Powered by AI.\n            </p>\n          </div>\n        </footer>\n      </div>\n\n      {/* Custom animations */}\n      <style jsx global>{`\n        @keyframes float {\n          0%, 100% { transform: translateY(0) translateX(0); }\n          50% { transform: translateY(-30px) translateX(15px); }\n        }\n        @keyframes float-delayed {\n          0%, 100% { transform: translateY(0) translateX(0); }\n          50% { transform: translateY(-20px) translateX(-10px); }\n        }\n        @keyframes float-slow {\n          0%, 100% { transform: translateY(0) translateX(0); }\n          50% { transform: translateY(-40px) translateX(20px); }\n        }\n        @keyframes gradient {\n          0% { background-position: 0% 50%; }\n          50% { background-position: 100% 50%; }\n          100% { background-position: 0% 50%; }\n        }\n        @keyframes scroll {\n          0%, 100% { opacity: 1; transform: translateY(0); }\n          50% { opacity: 0.5; transform: translateY(4px); }\n        }\n        .animate-float { animation: float 8s ease-in-out infinite; }\n        .animate-float-delayed { animation: float-delayed 10s ease-in-out infinite; animation-delay: 2s; }\n        .animate-float-slow { animation: float-slow 12s ease-in-out infinite; }\n        .animate-gradient { background-size: 200% auto; animation: gradient 4s linear infinite; }\n        .animate-scroll { animation: scroll 2s ease-in-out infinite; }\n      `}</style>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\app\\test\\[agentId]\\page.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":1,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":75,"column":54,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[3389,3512],"text":"\r\n                                Ready to test. Click &quot;Start Interaction\" to begin chatting.\r\n                            "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[3389,3512],"text":"\r\n                                Ready to test. Click &ldquo;Start Interaction\" to begin chatting.\r\n                            "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[3389,3512],"text":"\r\n                                Ready to test. Click &#34;Start Interaction\" to begin chatting.\r\n                            "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[3389,3512],"text":"\r\n                                Ready to test. Click &rdquo;Start Interaction\" to begin chatting.\r\n                            "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":1,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":75,"column":72,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[3389,3512],"text":"\r\n                                Ready to test. Click \"Start Interaction&quot; to begin chatting.\r\n                            "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[3389,3512],"text":"\r\n                                Ready to test. Click \"Start Interaction&ldquo; to begin chatting.\r\n                            "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[3389,3512],"text":"\r\n                                Ready to test. Click \"Start Interaction&#34; to begin chatting.\r\n                            "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[3389,3512],"text":"\r\n                                Ready to test. Click \"Start Interaction&rdquo; to begin chatting.\r\n                            "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":1,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":84,"column":43,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[4024,4177],"text":"\r\n                                    Click &quot;Start Interaction\" to initialize the avatar depending on connection speed.\r\n                                "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[4024,4177],"text":"\r\n                                    Click &ldquo;Start Interaction\" to initialize the avatar depending on connection speed.\r\n                                "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[4024,4177],"text":"\r\n                                    Click &#34;Start Interaction\" to initialize the avatar depending on connection speed.\r\n                                "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[4024,4177],"text":"\r\n                                    Click &rdquo;Start Interaction\" to initialize the avatar depending on connection speed.\r\n                                "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":1,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":84,"column":61,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[4024,4177],"text":"\r\n                                    Click \"Start Interaction&quot; to initialize the avatar depending on connection speed.\r\n                                "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[4024,4177],"text":"\r\n                                    Click \"Start Interaction&ldquo; to initialize the avatar depending on connection speed.\r\n                                "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[4024,4177],"text":"\r\n                                    Click \"Start Interaction&#34; to initialize the avatar depending on connection speed.\r\n                                "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[4024,4177],"text":"\r\n                                    Click \"Start Interaction&rdquo; to initialize the avatar depending on connection speed.\r\n                                "},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { redirect } from 'next/navigation';\r\nimport { auth } from '@/lib/auth';\r\nimport { getAgentById } from '@/lib/db';\r\nimport { AVAILABLE_FACES } from '@/lib/simile';\r\nimport AvatarInteraction from '@/components/AvatarInteraction';\r\nimport Link from 'next/link';\r\nimport { ArrowLeft } from 'lucide-react';\r\n\r\n// Helper to get face thumbnail URL\r\nfunction getFacePreviewUrl(faceId?: string): string | undefined {\r\n    if (!faceId) return undefined;\r\n    const face = AVAILABLE_FACES.find(f => f.id === faceId);\r\n    return face?.thumbnail;\r\n}\r\n\r\nexport default async function TestAgentPage({ params }: { params: Promise<{ agentId: string }> }) {\r\n    const session = await auth();\r\n    if (!session?.user) {\r\n        redirect('/auth/login');\r\n    }\r\n\r\n    const { agentId } = await params;\r\n    const agent = await getAgentById(agentId);\r\n\r\n    if (!agent) {\r\n        return (\r\n            <div className=\"min-h-screen bg-black flex items-center justify-center text-white\">\r\n                <div className=\"text-center\">\r\n                    <h1 className=\"text-2xl font-bold mb-4\">Agent Not Found</h1>\r\n                    <Link href=\"/dashboard\" className=\"text-gray-400 hover:text-white\">\r\n                        Return to Dashboard\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const facePreviewUrl = getFacePreviewUrl(agent.faceId);\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-black flex flex-col\">\r\n            {/* Header */}\r\n            <header className=\"px-6 py-4 border-b border-white/10 flex items-center justify-between\">\r\n                <Link href=\"/dashboard\" className=\"flex items-center gap-2 text-gray-400 hover:text-white transition-colors\">\r\n                    <ArrowLeft className=\"w-5 h-5\" />\r\n                    <span>Back to Dashboard</span>\r\n                </Link>\r\n                <div className=\"flex items-center gap-3\">\r\n                    <div className=\"w-2 h-2 rounded-full bg-green-500 animate-pulse\" />\r\n                    <span className=\"text-white font-medium\">Test Mode</span>\r\n                </div>\r\n            </header>\r\n\r\n            {/* Main Content */}\r\n            <main className=\"flex-1 flex flex-col items-center justify-center p-6\">\r\n                <div className=\"max-w-4xl w-full grid grid-cols-1 lg:grid-cols-2 gap-8 items-center\">\r\n                    {/* Agent Visual */}\r\n                    <div>\r\n                        <AvatarInteraction\r\n                            simli_faceid={agent.faceId || 'tmp9i8bbq7c'}\r\n                            voiceId={agent.voiceId || '8ef4a238714b45718ce04243307c57a7'}\r\n                            apiKey={process.env.NEXT_PUBLIC_SIMLI_API_KEY || ''}\r\n                            facePreviewUrl={facePreviewUrl}\r\n                            agentName={agent.name}\r\n                            initialPrompt={`You are ${agent.name}, a helpful assistant. Keep responses brief and conversational.`}\r\n                            className=\"w-full max-w-lg mx-auto\"\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Agent Info & Instructions */}\r\n                    <div className=\"space-y-6\">\r\n                        <div>\r\n                            <h1 className=\"text-3xl font-bold text-white mb-2\">{agent.name}</h1>\r\n                            <p className=\"text-gray-400 text-lg\">\r\n                                Ready to test. Click \"Start Interaction\" to begin chatting.\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div className=\"bg-white/5 border border-white/10 rounded-2xl p-6\">\r\n                            <h3 className=\"text-white font-semibold mb-4\">Instructions</h3>\r\n                            <ul className=\"space-y-3 text-gray-400\">\r\n                                <li className=\"flex gap-3\">\r\n                                    <span className=\"w-6 h-6 rounded-full bg-white/10 flex items-center justify-center text-xs font-bold shrink-0\">1</span>\r\n                                    Click \"Start Interaction\" to initialize the avatar depending on connection speed.\r\n                                </li>\r\n                                <li className=\"flex gap-3\">\r\n                                    <span className=\"w-6 h-6 rounded-full bg-white/10 flex items-center justify-center text-xs font-bold shrink-0\">2</span>\r\n                                    Speak clearly into your microphone when the avatar is listening.\r\n                                </li>\r\n                                <li className=\"flex gap-3\">\r\n                                    <span className=\"w-6 h-6 rounded-full bg-white/10 flex items-center justify-center text-xs font-bold shrink-0\">3</span>\r\n                                    The agent will respond based on the knowledge base from: <br />\r\n                                    <span className=\"text-cyan-400\">{agent.websiteUrl}</span>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </main>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\components\\AgentCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\components\\AgentTemplates.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\components\\AuthShowcase.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\components\\AvatarInteraction.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'onError' is defined but never used. Allowed unused args must match /^_/u.","line":67,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":67,"endColumn":12},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useCallback has a missing dependency: 'sendMessage'. Either include it or remove the dependency array.","line":191,"column":8,"nodeType":"ArrayExpression","endLine":191,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [sendMessage]","fix":{"range":[6581,6583],"text":"[sendMessage]"}}]}],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":157,"column":49,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":157,"endColumn":52,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5406,5409],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5406,5409],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":157,"column":86,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":157,"endColumn":89,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5443,5446],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5443,5446],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\n/**\r\n * AvatarInteraction Component - Based on create-simli-app\r\n * https://github.com/simliai/create-simli-app\r\n * \r\n * Real-time video avatar with:\r\n * - SimliClient for WebRTC video\r\n * - WebSocket for audio streaming  \r\n * - Web Speech API for speech-to-text\r\n * - Text input fallback\r\n */\r\n\r\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\r\nimport { SimliClient } from 'simli-client';\r\nimport { Loader2, Mic, MicOff, VideoOff, User, Send } from 'lucide-react';\r\nimport Image from 'next/image';\r\n\r\n// Web Speech API types (not in standard TypeScript lib)\r\ninterface SpeechRecognitionEvent extends Event {\r\n    results: SpeechRecognitionResultList;\r\n}\r\n\r\ninterface SpeechRecognitionErrorEvent extends Event {\r\n    error: string;\r\n}\r\n\r\ninterface SpeechRecognitionInstance extends EventTarget {\r\n    continuous: boolean;\r\n    interimResults: boolean;\r\n    lang: string;\r\n    onresult: ((event: SpeechRecognitionEvent) => void) | null;\r\n    onerror: ((event: SpeechRecognitionErrorEvent) => void) | null;\r\n    onend: (() => void) | null;\r\n    start: () => void;\r\n    stop: () => void;\r\n}\r\n\r\n \r\ntype SpeechRecognitionConstructor = new () => SpeechRecognitionInstance;\r\n\r\ninterface AvatarInteractionProps {\r\n    simli_faceid: string;\r\n    voiceId: string;\r\n    initialPrompt?: string;\r\n    apiKey: string;\r\n    facePreviewUrl?: string;\r\n    agentName?: string;\r\n    agentId?: string;  // For RAG queries\r\n    onStart?: () => void;\r\n    onStop?: () => void;\r\n    onError?: (error: string) => void;\r\n    onTranscript?: (text: string) => void;\r\n    className?: string;\r\n}\r\n\r\nconst AvatarInteraction: React.FC<AvatarInteractionProps> = ({\r\n    simli_faceid,\r\n    voiceId,\r\n    initialPrompt = \"You are a helpful assistant.\",\r\n    apiKey,\r\n    facePreviewUrl,\r\n    agentName = 'your assistant',\r\n    agentId,\r\n    onStart,\r\n    onStop,\r\n    onError,\r\n    onTranscript,\r\n    className = ''\r\n}) => {\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [isAvatarVisible, setIsAvatarVisible] = useState(false);\r\n    const [isListening, setIsListening] = useState(false);\r\n    const [error, setError] = useState('');\r\n    const [textInput, setTextInput] = useState('');\r\n    const [transcript, setTranscript] = useState('');\r\n    const [aiResponse, setAiResponse] = useState('');\r\n    const [isProcessing, setIsProcessing] = useState(false);\r\n\r\n    const videoRef = useRef<HTMLVideoElement>(null);\r\n    const audioRef = useRef<HTMLAudioElement>(null);\r\n    const simliClientRef = useRef<SimliClient | null>(null);\r\n    const socketRef = useRef<WebSocket | null>(null);\r\n    const recognitionRef = useRef<SpeechRecognitionInstance | null>(null);\r\n\r\n    // Initialize Simli client\r\n    const initializeSimliClient = useCallback(() => {\r\n        console.log('=== Simli Initialization ===');\r\n        console.log('API Key:', apiKey ? `${apiKey.substring(0, 5)}...` : 'MISSING');\r\n        console.log('Face ID:', simli_faceid);\r\n\r\n        if (!videoRef.current || !audioRef.current) {\r\n            console.warn('Video or audio ref not ready yet');\r\n            setError('Video element not ready. Please try again.');\r\n            setIsLoading(false);\r\n            return false;\r\n        }\r\n\r\n        if (!apiKey) {\r\n            console.error('Simli API key is missing!');\r\n            setError('Simli API key is not configured.');\r\n            setIsLoading(false);\r\n            return false;\r\n        }\r\n\r\n        try {\r\n            const simliClient = new SimliClient();\r\n\r\n            simliClient.Initialize({\r\n                apiKey: apiKey,\r\n                faceID: simli_faceid,\r\n                handleSilence: true,\r\n                maxSessionLength: 200,\r\n                maxIdleTime: 100,\r\n                videoRef: videoRef.current,\r\n                audioRef: audioRef.current,\r\n            } as Parameters<typeof simliClient.Initialize>[0]);\r\n\r\n            simliClient.on('connected', () => {\r\n                console.log('Γ£à SimliClient connected!');\r\n                setIsAvatarVisible(true);\r\n                setIsLoading(false);\r\n                const audioData = new Uint8Array(6000).fill(0);\r\n                simliClient.sendAudioData(audioData);\r\n            });\r\n\r\n            simliClient.on('disconnected', () => {\r\n                console.log('Γ¥î SimliClient disconnected');\r\n                setIsAvatarVisible(false);\r\n            });\r\n\r\n            simliClient.on('failed', (error: Error | string) => {\r\n                console.error('Γ¥î SimliClient failed:', error);\r\n                setError('Failed to connect to Simli.');\r\n                setIsLoading(false);\r\n            });\r\n\r\n            simliClientRef.current = simliClient;\r\n            console.log('Γ£à Simli Client initialized');\r\n\r\n            // Start the Simli client to begin WebRTC connection\r\n            simliClient.start();\r\n            console.log('≡ƒÜÇ Simli Client started');\r\n\r\n            return true;\r\n        } catch (err) {\r\n            console.error('Failed to initialize Simli client:', err);\r\n            setError('Failed to initialize avatar.');\r\n            setIsLoading(false);\r\n            return false;\r\n        }\r\n    }, [apiKey, simli_faceid]);\r\n\r\n    // Initialize Web Speech API\r\n    const initializeSpeechRecognition = useCallback(() => {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        const SpeechRecognitionAPI = (window as any).SpeechRecognition || (window as any).webkitSpeechRecognition as SpeechRecognitionConstructor | undefined;\r\n\r\n        if (!SpeechRecognitionAPI) {\r\n            console.warn('Speech recognition not supported');\r\n            return null;\r\n        }\r\n\r\n        const recognition = new SpeechRecognitionAPI();\r\n        recognition.continuous = false;\r\n        recognition.interimResults = true;\r\n        recognition.lang = 'en-US';\r\n\r\n        recognition.onresult = (event: SpeechRecognitionEvent) => {\r\n            const last = event.results.length - 1;\r\n            const text = event.results[last][0].transcript;\r\n            setTranscript(text);\r\n\r\n            if (event.results[last].isFinal) {\r\n                console.log('Final transcript:', text);\r\n                sendMessage(text);\r\n                setTranscript('');\r\n            }\r\n        };\r\n\r\n        recognition.onerror = (event: SpeechRecognitionErrorEvent) => {\r\n            console.error('Speech recognition error:', event.error);\r\n            setIsListening(false);\r\n        };\r\n\r\n        recognition.onend = () => {\r\n            setIsListening(false);\r\n        };\r\n\r\n        return recognition;\r\n    }, []);\r\n\r\n    // Send message to backend\r\n    const sendMessage = useCallback(async (text: string) => {\r\n        if (!text.trim() || !socketRef.current || socketRef.current.readyState !== WebSocket.OPEN) {\r\n            console.log('Cannot send message - WebSocket not ready');\r\n            return;\r\n        }\r\n\r\n        setIsProcessing(true);\r\n        onTranscript?.(text);\r\n\r\n        socketRef.current.send(JSON.stringify({\r\n            type: 'text',\r\n            content: text\r\n        }));\r\n    }, [onTranscript]);\r\n\r\n    // Initialize WebSocket connection to backend\r\n    const initializeWebSocket = useCallback((connectionId: string) => {\r\n        const wsUrl = `ws://localhost:8080/ws?connectionId=${connectionId}`;\r\n        console.log('Connecting to WebSocket:', wsUrl);\r\n        socketRef.current = new WebSocket(wsUrl);\r\n\r\n        socketRef.current.onopen = () => {\r\n            console.log('Γ£à Connected to conversation server');\r\n        };\r\n\r\n        socketRef.current.onmessage = (event) => {\r\n            if (event.data instanceof Blob) {\r\n                // Audio data from TTS - send to Simli for lip sync\r\n                event.data.arrayBuffer().then((arrayBuffer) => {\r\n                    const uint8Array = new Uint8Array(arrayBuffer);\r\n                    console.log('Received audio data, sending to Simli:', uint8Array.length);\r\n                    simliClientRef.current?.sendAudioData(uint8Array);\r\n                });\r\n            } else {\r\n                try {\r\n                    const message = JSON.parse(event.data);\r\n                    if (message.type === 'text') {\r\n                        console.log('AI Response:', message.content);\r\n                        setAiResponse(message.content);\r\n                        setIsProcessing(false);\r\n                    } else if (message.type === 'interrupt') {\r\n                        simliClientRef.current?.ClearBuffer();\r\n                    }\r\n                } catch (error) {\r\n                    console.error('Error parsing WebSocket message:', error);\r\n                }\r\n            }\r\n        };\r\n\r\n        socketRef.current.onerror = (error) => {\r\n            console.error('WebSocket error:', error);\r\n            setError('Connection error. Is the backend server running on port 8080?');\r\n        };\r\n\r\n        socketRef.current.onclose = () => {\r\n            console.log('WebSocket closed');\r\n        };\r\n    }, []);\r\n\r\n    // Start conversation with backend\r\n    const startConversation = useCallback(async () => {\r\n        try {\r\n            console.log('Starting conversation...');\r\n            const response = await fetch('http://localhost:8080/start-conversation', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                    prompt: initialPrompt,\r\n                    voiceId: voiceId,\r\n                    faceId: simli_faceid,\r\n                    agentName: agentName,\r\n                    agentId: agentId  // Pass agentId for RAG queries\r\n                })\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error('Failed to start conversation');\r\n            }\r\n\r\n            const data = await response.json();\r\n            console.log('Conversation started:', data.connectionId);\r\n            initializeWebSocket(data.connectionId);\r\n            return true;\r\n        } catch (error) {\r\n            console.error('Failed to start conversation:', error);\r\n            setError('Failed to connect to server. Make sure the backend is running on port 8080.');\r\n            return false;\r\n        }\r\n    }, [initialPrompt, voiceId, simli_faceid, agentName, agentId, initializeWebSocket]);\r\n\r\n    // Handle start button click\r\n    const handleStart = useCallback(async () => {\r\n        setIsLoading(true);\r\n        setError('');\r\n        onStart?.();\r\n\r\n        initializeSimliClient();\r\n        recognitionRef.current = initializeSpeechRecognition();\r\n\r\n        // Start conversation after a delay to let Simli connect\r\n        setTimeout(async () => {\r\n            const success = await startConversation();\r\n            if (!success) {\r\n                setIsLoading(false);\r\n            }\r\n        }, 1000);\r\n    }, [onStart, initializeSimliClient, initializeSpeechRecognition, startConversation]);\r\n\r\n    // Handle stop button click\r\n    const handleStop = useCallback(() => {\r\n        if (recognitionRef.current) {\r\n            recognitionRef.current.stop();\r\n        }\r\n        simliClientRef.current?.close();\r\n        socketRef.current?.close();\r\n\r\n        setIsLoading(false);\r\n        setIsAvatarVisible(false);\r\n        setIsListening(false);\r\n        setError('');\r\n        setAiResponse('');\r\n\r\n        simliClientRef.current = null;\r\n        socketRef.current = null;\r\n        recognitionRef.current = null;\r\n        onStop?.();\r\n    }, [onStop]);\r\n\r\n    // Toggle voice listening\r\n    const toggleListening = useCallback(() => {\r\n        if (!recognitionRef.current) {\r\n            recognitionRef.current = initializeSpeechRecognition();\r\n        }\r\n\r\n        if (isListening) {\r\n            recognitionRef.current?.stop();\r\n            setIsListening(false);\r\n        } else {\r\n            try {\r\n                recognitionRef.current?.start();\r\n                setIsListening(true);\r\n            } catch (err) {\r\n                console.error('Failed to start speech recognition:', err);\r\n            }\r\n        }\r\n    }, [isListening, initializeSpeechRecognition]);\r\n\r\n    // Handle text input submit\r\n    const handleTextSubmit = useCallback((e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        if (textInput.trim()) {\r\n            sendMessage(textInput);\r\n            setTextInput('');\r\n        }\r\n    }, [textInput, sendMessage]);\r\n\r\n    // Cleanup on unmount\r\n    useEffect(() => {\r\n        return () => {\r\n            if (recognitionRef.current) {\r\n                recognitionRef.current.stop();\r\n            }\r\n            simliClientRef.current?.close();\r\n            socketRef.current?.close();\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <div className={`relative ${className}`}>\r\n            {/* Error display */}\r\n            {error && (\r\n                <div className=\"absolute top-4 left-4 right-4 z-10 p-3 rounded-xl bg-red-500/20 border border-red-500/50 text-red-300 text-sm\">\r\n                    {error}\r\n                </div>\r\n            )}\r\n\r\n            {/* Video container */}\r\n            <div className=\"relative aspect-square bg-slate-900 rounded-2xl overflow-hidden\">\r\n                {/* Hidden video/audio elements */}\r\n                <video\r\n                    ref={videoRef}\r\n                    autoPlay\r\n                    playsInline\r\n                    className={`absolute inset-0 w-full h-full object-cover ${isAvatarVisible ? '' : 'hidden'}`}\r\n                />\r\n                <audio ref={audioRef} autoPlay />\r\n\r\n                {/* Loading overlay */}\r\n                {isLoading && !isAvatarVisible && (\r\n                    <div className=\"absolute inset-0 flex items-center justify-center bg-slate-900/80\">\r\n                        <div className=\"flex flex-col items-center gap-3\">\r\n                            <Loader2 className=\"w-8 h-8 text-white animate-spin\" />\r\n                            <p className=\"text-white text-sm\">Connecting to avatar...</p>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Placeholder when not active */}\r\n                {!isLoading && !isAvatarVisible && (\r\n                    <div className=\"absolute inset-0 flex items-center justify-center\">\r\n                        {facePreviewUrl ? (\r\n                            <>\r\n                                <Image\r\n                                    src={facePreviewUrl}\r\n                                    alt=\"Agent face\"\r\n                                    fill\r\n                                    className=\"object-cover\"\r\n                                />\r\n                                <div className=\"absolute inset-0 bg-gradient-to-t from-slate-900/80 via-transparent to-slate-900/30\" />\r\n                                <div className=\"absolute bottom-8 left-0 right-0 text-center\">\r\n                                    <p className=\"text-white/90 text-lg font-medium\">Click Start to begin</p>\r\n                                </div>\r\n                            </>\r\n                        ) : (\r\n                            <div className=\"text-center\">\r\n                                <div className=\"w-24 h-24 rounded-full bg-white/10 mx-auto mb-4 flex items-center justify-center\">\r\n                                    <User className=\"w-12 h-12 text-white\" />\r\n                                </div>\r\n                                <p className=\"text-gray-400\">Click Start to begin</p>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                )}\r\n\r\n                {/* Live transcript display */}\r\n                {isListening && transcript && (\r\n                    <div className=\"absolute bottom-4 left-4 right-4 p-3 rounded-xl bg-black/60 border border-white/20\">\r\n                        <p className=\"text-white text-sm italic\">{transcript}...</p>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Listening indicator */}\r\n                {isListening && (\r\n                    <div className=\"absolute top-4 right-4 flex items-center gap-2 px-3 py-1.5 rounded-full bg-red-500/20 border border-red-500/50\">\r\n                        <div className=\"w-2 h-2 rounded-full bg-red-500 animate-pulse\" />\r\n                        <span className=\"text-red-400 text-xs\">Listening...</span>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Processing indicator */}\r\n                {isProcessing && (\r\n                    <div className=\"absolute top-4 left-4 flex items-center gap-2 px-3 py-1.5 rounded-full bg-white/10 border border-white/20\">\r\n                        <Loader2 className=\"w-3 h-3 text-white animate-spin\" />\r\n                        <span className=\"text-white text-xs\">Thinking...</span>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* AI Response display */}\r\n            {aiResponse && isAvatarVisible && (\r\n                <div className=\"mt-4 p-4 rounded-xl bg-slate-800/50 border border-white/10\">\r\n                    <p className=\"text-white text-sm\">{aiResponse}</p>\r\n                </div>\r\n            )}\r\n\r\n            {/* Controls */}\r\n            <div className=\"mt-4\">\r\n                {!isAvatarVisible ? (\r\n                    <button\r\n                        onClick={handleStart}\r\n                        disabled={isLoading}\r\n                        className=\"w-full py-3 px-6 rounded-xl bg-[#1a1a1a] border border-white/10 hover:bg-[#252525] text-white font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                    >\r\n                        {isLoading ? 'Connecting...' : 'Start Interaction'}\r\n                    </button>\r\n                ) : (\r\n                    <div className=\"space-y-3\">\r\n                        {/* Voice/Stop controls */}\r\n                        <div className=\"flex gap-3\">\r\n                            <button\r\n                                onClick={toggleListening}\r\n                                className={`flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-xl font-medium transition-all ${isListening\r\n                                    ? 'bg-red-500/20 text-red-400 border border-red-500/50'\r\n                                    : 'bg-white/10 text-white border border-white/20 hover:bg-white/20'\r\n                                    }`}\r\n                            >\r\n                                {isListening ? <MicOff className=\"w-5 h-5\" /> : <Mic className=\"w-5 h-5\" />}\r\n                                {isListening ? 'Stop Listening' : 'Speak'}\r\n                            </button>\r\n                            <button\r\n                                onClick={handleStop}\r\n                                className=\"flex items-center justify-center gap-2 py-3 px-4 rounded-xl bg-slate-700 text-white font-medium hover:bg-slate-600 transition-all\"\r\n                            >\r\n                                <VideoOff className=\"w-5 h-5\" />\r\n                                End\r\n                            </button>\r\n                        </div>\r\n\r\n                        {/* Text input */}\r\n                        <form onSubmit={handleTextSubmit} className=\"flex gap-2\">\r\n                            <input\r\n                                type=\"text\"\r\n                                value={textInput}\r\n                                onChange={(e) => setTextInput(e.target.value)}\r\n                                placeholder=\"Or type a message...\"\r\n                                className=\"flex-1 bg-slate-800 border border-white/10 rounded-xl px-4 py-2.5 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-white/30\"\r\n                                disabled={isProcessing}\r\n                            />\r\n                            <button\r\n                                type=\"submit\"\r\n                                disabled={!textInput.trim() || isProcessing}\r\n                                className=\"px-4 py-2.5 rounded-xl bg-white text-black disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100 transition-colors\"\r\n                            >\r\n                                <Send className=\"w-5 h-5\" />\r\n                            </button>\r\n                        </form>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AvatarInteraction;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\components\\DashboardSidebar.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Sparkles' is defined but never used. Allowed unused vars must match /^_/u.","line":26,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":26,"endColumn":13}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState } from 'react';\r\nimport Link from 'next/link';\r\nimport { usePathname } from 'next/navigation';\r\nimport { useSession, signOut } from 'next-auth/react';\r\nimport { useRouter } from 'next/navigation';\r\nimport {\r\n    Home,\r\n    Hammer,\r\n    Users,\r\n    UserCircle,\r\n    Mic2,\r\n    Brain,\r\n    Wrench,\r\n    BookOpen,\r\n    BarChart3,\r\n    Key,\r\n    FileText,\r\n    CreditCard,\r\n    Settings,\r\n    MessageSquare,\r\n    ChevronLeft,\r\n    ChevronRight,\r\n    LogOut,\r\n    Sparkles\r\n} from 'lucide-react';\r\n\r\ninterface NavItem {\r\n    name: string;\r\n    href: string;\r\n    icon: React.ElementType;\r\n    badge?: string;\r\n}\r\n\r\ninterface NavSection {\r\n    title?: string;\r\n    items: NavItem[];\r\n}\r\n\r\nconst navigation: NavSection[] = [\r\n    {\r\n        items: [\r\n            { name: 'Home', href: '/dashboard', icon: Home },\r\n            { name: 'Build', href: '/create', icon: Hammer },\r\n        ]\r\n    },\r\n    {\r\n        title: 'Library',\r\n        items: [\r\n            { name: 'Personas', href: '/dashboard/personas', icon: Users },\r\n            { name: 'Avatars', href: '/dashboard/avatars', icon: UserCircle },\r\n            { name: 'Voices', href: '/dashboard/voices', icon: Mic2 },\r\n            { name: 'LLMs', href: '/dashboard/llms', icon: Brain, badge: 'Coming Soon' },\r\n            { name: 'Tools', href: '/dashboard/tools', icon: Wrench, badge: 'Coming Soon' },\r\n            { name: 'Knowledge', href: '/dashboard/knowledge', icon: BookOpen, badge: 'Coming Soon' },\r\n        ]\r\n    },\r\n    {\r\n        title: 'Analyse',\r\n        items: [\r\n            { name: 'Sessions', href: '/dashboard/sessions', icon: BarChart3 },\r\n        ]\r\n    },\r\n    {\r\n        title: 'Developers',\r\n        items: [\r\n            { name: 'API Keys', href: '/dashboard/api-keys', icon: Key },\r\n            { name: 'Docs', href: '/dashboard/docs', icon: FileText },\r\n        ]\r\n    },\r\n    {\r\n        items: [\r\n            { name: 'Subscription', href: '/dashboard/subscription', icon: CreditCard },\r\n            { name: 'Settings', href: '/dashboard/settings', icon: Settings },\r\n            { name: 'Feedback', href: '/dashboard/feedback', icon: MessageSquare },\r\n        ]\r\n    }\r\n];\r\n\r\nexport function DashboardSidebar() {\r\n    const [collapsed, setCollapsed] = useState(false);\r\n    const pathname = usePathname();\r\n    const { data: session } = useSession();\r\n    const router = useRouter();\r\n\r\n    const handleSignOut = async () => {\r\n        await signOut({ redirect: false });\r\n        router.push('/auth/login');\r\n    };\r\n\r\n    const isActive = (href: string) => {\r\n        if (href === '/dashboard') {\r\n            return pathname === '/dashboard';\r\n        }\r\n        return pathname.startsWith(href);\r\n    };\r\n\r\n    return (\r\n        <aside\r\n            className={`fixed left-0 top-0 h-screen bg-black border-r border-white/5 flex flex-col transition-all duration-300 z-50 ${collapsed ? 'w-16' : 'w-56'\r\n                }`}\r\n        >\r\n            {/* Header with name and collapse button */}\r\n            <div className=\"flex items-center justify-between p-4 border-b border-white/10\">\r\n                {!collapsed && (\r\n                    <span className=\"text-lg font-bold text-white\">Talk to Site</span>\r\n                )}\r\n                <button\r\n                    onClick={() => setCollapsed(!collapsed)}\r\n                    className=\"p-1 rounded hover:bg-white/10 text-gray-400 hover:text-white transition-colors\"\r\n                >\r\n                    {collapsed ? (\r\n                        <ChevronRight className=\"w-4 h-4\" />\r\n                    ) : (\r\n                        <ChevronLeft className=\"w-4 h-4\" />\r\n                    )}\r\n                </button>\r\n            </div>\r\n\r\n            {/* Navigation */}\r\n            <nav className=\"flex-1 overflow-y-auto py-4 px-2\">\r\n                {navigation.map((section, sectionIdx) => (\r\n                    <div key={sectionIdx} className=\"mb-4\">\r\n                        {section.title && !collapsed && (\r\n                            <h3 className=\"px-3 mb-2 text-xs font-semibold text-gray-500 uppercase tracking-wider\">\r\n                                {section.title}\r\n                            </h3>\r\n                        )}\r\n                        <ul className=\"space-y-1\">\r\n                            {section.items.map((item) => {\r\n                                const Icon = item.icon;\r\n                                const active = isActive(item.href);\r\n                                return (\r\n                                    <li key={item.name}>\r\n                                        <Link\r\n                                            href={item.href}\r\n                                            className={`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-all ${active\r\n                                                ? 'bg-white/10 text-white'\r\n                                                : 'text-gray-400 hover:text-white hover:bg-white/5'\r\n                                                }`}\r\n                                            title={collapsed ? item.name : undefined}\r\n                                        >\r\n                                            <Icon className=\"w-5 h-5 flex-shrink-0\" />\r\n                                            {!collapsed && (\r\n                                                <>\r\n                                                    <span className=\"flex-1\">{item.name}</span>\r\n                                                    {item.badge && (\r\n                                                        <span className=\"px-1.5 py-0.5 text-[10px] font-medium bg-white/10 text-gray-400 rounded whitespace-nowrap\">\r\n                                                            {item.badge}\r\n                                                        </span>\r\n                                                    )}\r\n                                                </>\r\n                                            )}\r\n                                        </Link>\r\n                                    </li>\r\n                                );\r\n                            })}\r\n                        </ul>\r\n                    </div>\r\n                ))}\r\n            </nav>\r\n\r\n            {/* User Profile */}\r\n            {session && (\r\n                <div className=\"p-3 border-t border-white/10\">\r\n                    <div className={`flex items-center gap-3 ${collapsed ? 'justify-center' : ''}`}>\r\n                        <div className=\"w-8 h-8 rounded-full bg-white flex items-center justify-center flex-shrink-0\">\r\n                            <span className=\"text-black text-sm font-medium\">\r\n                                {session.user?.email?.[0]?.toUpperCase() || 'U'}\r\n                            </span>\r\n                        </div>\r\n                        {!collapsed && (\r\n                            <div className=\"flex-1 min-w-0\">\r\n                                <p className=\"text-sm font-medium text-white truncate\">\r\n                                    {session.user?.name || session.user?.email?.split('@')[0] || 'User'}\r\n                                </p>\r\n                                <p className=\"text-xs text-gray-500 truncate\">\r\n                                    {session.user?.email?.split('@')[0]}&apos;s Org\r\n                                </p>\r\n                            </div>\r\n                        )}\r\n                        {!collapsed && (\r\n                            <button\r\n                                onClick={handleSignOut}\r\n                                className=\"p-1.5 rounded hover:bg-white/10 text-gray-400 hover:text-white transition-colors\"\r\n                                title=\"Sign out\"\r\n                            >\r\n                                <LogOut className=\"w-4 h-4\" />\r\n                            </button>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </aside>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\components\\DeveloperQuickstart.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\components\\EmbedModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\components\\FaceGallery.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\components\\Header.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\components\\Providers.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\components\\SimliAvatar.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":51,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":51,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1713,1716],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1713,1716],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\components\\UsageChart.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":99,"column":22,"nodeType":null,"messageId":"unusedVar","endLine":99,"endColumn":27}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { ArrowRight } from 'lucide-react';\r\nimport { useEffect, useState } from 'react';\r\n\r\ninterface UsageData {\r\n    date: string;\r\n    minutes: number;\r\n}\r\n\r\ninterface Session {\r\n    id: string;\r\n    agent_id: string;\r\n    status: string;\r\n    started_at: string;\r\n    ended_at: string | null;\r\n}\r\n\r\n// Calculate usage data from sessions\r\nfunction calculateUsageFromSessions(sessions: Session[]): UsageData[] {\r\n    const data: UsageData[] = [];\r\n    const now = new Date();\r\n\r\n    // Create data for last 30 days\r\n    for (let i = 29; i >= 0; i--) {\r\n        const date = new Date(now);\r\n        date.setDate(date.getDate() - i);\r\n        date.setHours(0, 0, 0, 0);\r\n\r\n        const nextDate = new Date(date);\r\n        nextDate.setDate(nextDate.getDate() + 1);\r\n\r\n        // Calculate minutes for this day from sessions\r\n        let minutesForDay = 0;\r\n        sessions.forEach(session => {\r\n            const sessionStart = new Date(session.started_at);\r\n            const sessionEnd = session.ended_at ? new Date(session.ended_at) : new Date();\r\n\r\n            // Check if session overlaps with this day\r\n            if (sessionStart < nextDate && sessionEnd >= date) {\r\n                // Calculate overlap duration in minutes\r\n                const overlapStart = sessionStart > date ? sessionStart : date;\r\n                const overlapEnd = sessionEnd < nextDate ? sessionEnd : nextDate;\r\n                const durationMs = overlapEnd.getTime() - overlapStart.getTime();\r\n                minutesForDay += durationMs / (1000 * 60);\r\n            }\r\n        });\r\n\r\n        data.push({\r\n            date: date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' }),\r\n            minutes: Math.round(minutesForDay * 100) / 100, // Round to 2 decimal places\r\n        });\r\n    }\r\n\r\n    return data;\r\n}\r\n\r\n// Generate mock usage data for demo (fallback)\r\nfunction generateMockUsageData(): UsageData[] {\r\n    const data: UsageData[] = [];\r\n    const now = new Date();\r\n\r\n    for (let i = 29; i >= 0; i--) {\r\n        const date = new Date(now);\r\n        date.setDate(date.getDate() - i);\r\n        data.push({\r\n            date: date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' }),\r\n            minutes: Math.random() * 10 + (i < 5 ? 2 : 0),\r\n        });\r\n    }\r\n\r\n    return data;\r\n}\r\n\r\nexport function UsageChart() {\r\n    const [data, setData] = useState<UsageData[]>([]);\r\n    const [totalMinutes, setTotalMinutes] = useState(0);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        async function fetchUsageData() {\r\n            try {\r\n                const response = await fetch('/api/sessions');\r\n                if (response.ok) {\r\n                    const sessions: Session[] = await response.json();\r\n                    const usageData = calculateUsageFromSessions(sessions);\r\n                    setData(usageData);\r\n\r\n                    // Calculate total minutes\r\n                    const total = usageData.reduce((sum, d) => sum + d.minutes, 0);\r\n                    setTotalMinutes(Math.round(total * 10) / 10);\r\n                } else {\r\n                    // Fallback to mock data\r\n                    const mockData = generateMockUsageData();\r\n                    setData(mockData);\r\n                    setTotalMinutes(Math.round(mockData.reduce((sum, d) => sum + d.minutes, 0) * 10) / 10);\r\n                }\r\n            } catch (error) {\r\n                // Fallback to mock data on error\r\n                const mockData = generateMockUsageData();\r\n                setData(mockData);\r\n                setTotalMinutes(Math.round(mockData.reduce((sum, d) => sum + d.minutes, 0) * 10) / 10);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        }\r\n\r\n        fetchUsageData();\r\n    }, []);\r\n\r\n    const maxMinutes = Math.max(...data.map(d => d.minutes), 12);\r\n\r\n    // Get sample dates for x-axis labels\r\n    const labelIndices = [0, 6, 12, 18, 24, 29];\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"bg-[#111111] rounded-2xl border border-white/5 p-6\">\r\n                <div className=\"animate-pulse\">\r\n                    <div className=\"h-6 bg-white/10 rounded w-32 mb-2\"></div>\r\n                    <div className=\"h-4 bg-white/10 rounded w-24 mb-6\"></div>\r\n                    <div className=\"h-32 bg-white/10 rounded\"></div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"bg-[#111111] rounded-2xl border border-white/5 p-6\">\r\n            <div className=\"flex items-center justify-between mb-1\">\r\n                <h3 className=\"text-lg font-semibold text-white\">Minutes Used</h3>\r\n                <span className=\"text-2xl font-bold text-white\">{totalMinutes}m</span>\r\n            </div>\r\n            <p className=\"text-sm text-gray-500 mb-6\">Last 30 days</p>\r\n\r\n            {/* Y-axis labels and Chart */}\r\n            <div className=\"relative h-32 mb-8\">\r\n                {/* Y-axis labels */}\r\n                <div className=\"absolute left-0 top-0 bottom-0 w-8 flex flex-col justify-between text-xs text-gray-500 pr-2\">\r\n                    <span>{Math.round(maxMinutes)}m</span>\r\n                    <span>{Math.round(maxMinutes / 2)}m</span>\r\n                    <span>0m</span>\r\n                </div>\r\n\r\n                {/* Chart area */}\r\n                <div className=\"ml-10 h-full relative\">\r\n                    {/* Grid lines */}\r\n                    <div className=\"absolute inset-0 flex flex-col justify-between pointer-events-none\">\r\n                        <div className=\"border-t border-white/10\" />\r\n                        <div className=\"border-t border-white/10\" />\r\n                        <div className=\"border-t border-white/10\" />\r\n                    </div>\r\n\r\n                    {/* SVG Line Chart */}\r\n                    {data.length > 0 && (\r\n                        <svg\r\n                            className=\"w-full h-full\"\r\n                            viewBox=\"0 0 300 100\"\r\n                            preserveAspectRatio=\"none\"\r\n                        >\r\n                            {/* Gradient fill under the line */}\r\n                            <defs>\r\n                                <linearGradient id=\"chartGradient\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                                    <stop offset=\"0%\" stopColor=\"rgb(255, 255, 255)\" stopOpacity=\"0.3\" />\r\n                                    <stop offset=\"100%\" stopColor=\"rgb(255, 255, 255)\" stopOpacity=\"0\" />\r\n                                </linearGradient>\r\n                            </defs>\r\n\r\n                            {/* Area fill */}\r\n                            <path\r\n                                d={`M 0 100 ${data.map((d, i) => {\r\n                                    const x = (i / (data.length - 1)) * 300;\r\n                                    const y = 100 - (d.minutes / maxMinutes) * 100;\r\n                                    return `L ${x} ${y}`;\r\n                                }).join(' ')} L 300 100 Z`}\r\n                                fill=\"url(#chartGradient)\"\r\n                            />\r\n\r\n                            {/* Line */}\r\n                            <path\r\n                                d={`M ${data.map((d, i) => {\r\n                                    const x = (i / (data.length - 1)) * 300;\r\n                                    const y = 100 - (d.minutes / maxMinutes) * 100;\r\n                                    return `${i === 0 ? '' : 'L '}${x} ${y}`;\r\n                                }).join(' ')}`}\r\n                                fill=\"none\"\r\n                                stroke=\"rgb(255, 255, 255)\"\r\n                                strokeWidth=\"2\"\r\n                                vectorEffect=\"non-scaling-stroke\"\r\n                            />\r\n\r\n                            {/* End point dot */}\r\n                            <circle\r\n                                cx=\"300\"\r\n                                cy={100 - (data[data.length - 1].minutes / maxMinutes) * 100}\r\n                                r=\"4\"\r\n                                fill=\"rgb(255, 255, 255)\"\r\n                                vectorEffect=\"non-scaling-stroke\"\r\n                            />\r\n                        </svg>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            {/* X-axis labels */}\r\n            <div className=\"ml-10 flex justify-between text-xs text-gray-500\">\r\n                {labelIndices.map(idx => (\r\n                    <span key={idx}>{data[idx]?.date}</span>\r\n                ))}\r\n            </div>\r\n\r\n            {/* View Details Button */}\r\n            <div className=\"mt-6\">\r\n                <Link\r\n                    href=\"/dashboard/sessions\"\r\n                    className=\"inline-flex items-center gap-1 px-4 py-2 rounded-lg bg-white/10 text-white text-sm font-medium hover:bg-white/20 transition-colors\"\r\n                >\r\n                    View Details\r\n                    <ArrowRight className=\"w-4 h-4\" />\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\components\\VoiceSelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\create-simli-app\\app\\AvatarInteraction.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useCallback has a missing dependency: 'handleStop'. Either include it or remove the dependency array.","line":118,"column":6,"nodeType":"ArrayExpression","endLine":118,"endColumn":62,"suggestions":[{"desc":"Update the dependencies array to be: [elevenlabs_voiceid, handleStop, initialPrompt, initializeWebSocket]","fix":{"range":[4063,4119],"text":"[elevenlabs_voiceid, handleStop, initialPrompt, initializeWebSocket]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import VideoBox from '@/app/components/VideoBox';\r\nimport cn from '@/app/utils/TailwindMergeAndClsx';\r\nimport IconSparkleLoader from \"@/media/IconSparkleLoader\";\r\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\r\nimport { SimliClient } from 'simli-client';\r\n\r\ninterface AvatarInteractionProps {\r\n  simli_faceid: string;\r\n  elevenlabs_voiceid: string;\r\n  initialPrompt: string;\r\n  onStart: () => void;\r\n  showDottedFace: boolean;\r\n}\r\n\r\nconst simliClient = new SimliClient();\r\n\r\nconst AvatarInteraction: React.FC<AvatarInteractionProps> = ({\r\n  simli_faceid,\r\n  elevenlabs_voiceid,\r\n  initialPrompt,\r\n  onStart,\r\n  showDottedFace\r\n}) => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isAvatarVisible, setIsAvatarVisible] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [audioStream, setAudioStream] = useState<MediaStream | null>(null);\r\n  const videoRef = useRef<HTMLVideoElement>(null);\r\n  const audioRef = useRef<HTMLAudioElement>(null);\r\n  const socketRef = useRef<WebSocket | null>(null);\r\n\r\n  const initializeSimliClient = useCallback(() => {\r\n    if (videoRef.current && audioRef.current) {\r\n      simliClient.Initialize({\r\n        apiKey: process.env.NEXT_PUBLIC_SIMLI_API_KEY || '',\r\n        faceID: simli_faceid,\r\n        handleSilence: true,\r\n        maxSessionLength: 200,\r\n        maxIdleTime: 100,\r\n        videoRef: videoRef,\r\n        audioRef: audioRef,\r\n      });\r\n      console.log('Simli Client initialized');\r\n    }\r\n  }, [simli_faceid]);\r\n\r\n  const startRecording = async () => {\r\n    try {\r\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\r\n      setAudioStream(stream);\r\n    } catch (err) {\r\n      console.error('Error accessing microphone:', err);\r\n      setError('Error accessing microphone. Please check your permissions.');\r\n    }\r\n  };\r\n\r\n  const initializeWebSocket = useCallback((connectionId: string) => {\r\n    socketRef.current = new WebSocket(`ws://localhost:8080/ws?connectionId=${connectionId}`);\r\n\r\n    socketRef.current.onopen = () => {\r\n      console.log('Connected to server');\r\n    };\r\n\r\n    socketRef.current.onmessage = (event) => {\r\n      if (event.data instanceof Blob) {\r\n        event.data.arrayBuffer().then((arrayBuffer) => {\r\n          const uint8Array = new Uint8Array(arrayBuffer);\r\n          simliClient.sendAudioData(uint8Array);\r\n        });\r\n      } else {\r\n        try {\r\n          const message = JSON.parse(event.data);\r\n          if (message.type === 'interrupt') {\r\n            console.log('Interrupting current response');\r\n            simliClient.ClearBuffer();\r\n          } else if (message.type === 'text') {\r\n            // const uint8Array = new Uint8Array(6000).fill(0);\r\n            // simliClient.sendAudioData(uint8Array);\r\n          }\r\n        } catch (error) {\r\n          console.error('Error parsing WebSocket message:', error);\r\n        }\r\n      }\r\n    };\r\n\r\n    socketRef.current.onerror = (error) => {\r\n      console.error('WebSocket error:', error);\r\n      setError('WebSocket connection error. Please check if the server is running.');\r\n    };\r\n  }, []);\r\n\r\n  const startConversation = useCallback(async () => {\r\n    try {\r\n      const response = await fetch('http://localhost:8080/start-conversation', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          prompt: initialPrompt,\r\n          voiceId: elevenlabs_voiceid\r\n        }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const data = await response.json();\r\n        throw new Error(data.error);\r\n      }\r\n\r\n      const data = await response.json();\r\n      initializeWebSocket(data.connectionId);\r\n    } catch (error) {\r\n      console.error('Error starting conversation:', error);\r\n      window.alert(`Whoopsie! Encountered the following error(s):\\n\\n[${error}].\\n\\nTry fixing those and restarting the application (npm run start).`)\r\n      handleStop();\r\n      setError('Failed to start conversation. Please try again.');\r\n    }\r\n  }, [elevenlabs_voiceid, initialPrompt, initializeWebSocket]);\r\n\r\n  const handleStart = useCallback(async () => {\r\n    setIsLoading(true);\r\n    setError('');\r\n    onStart();\r\n\r\n    await startConversation();\r\n    simliClient.start();\r\n    startRecording();\r\n  }, [onStart, startConversation]);\r\n\r\n  const handleStop = useCallback(() => {\r\n    setIsLoading(false);\r\n    setError('');\r\n    setIsAvatarVisible(false);\r\n    setAudioStream(null);\r\n    \r\n    if (audioStream) {\r\n      audioStream.getTracks().forEach(track => track.stop());\r\n    }\r\n\r\n    simliClient.close();\r\n    socketRef.current?.close();\r\n    window.location.href = '/';\r\n  }, [audioStream]);\r\n\r\n  useEffect(() => {\r\n    if (simliClient) {\r\n      simliClient.on('connected', () => {\r\n        console.log('SimliClient connected');\r\n        setIsAvatarVisible(true);\r\n        const audioData = new Uint8Array(6000).fill(0);\r\n        simliClient.sendAudioData(audioData);\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    initializeSimliClient();\r\n\r\n    return () => {\r\n      if (socketRef.current) {\r\n        socketRef.current.close();\r\n      }\r\n      simliClient.close();\r\n    };\r\n  }, [initializeSimliClient]);\r\n\r\n  useEffect(() => {\r\n    if (audioStream && socketRef.current && socketRef.current.readyState === WebSocket.OPEN) {\r\n      const mediaRecorder = new MediaRecorder(audioStream);\r\n\r\n      mediaRecorder.ondataavailable = (event) => {\r\n        if (event.data.size > 0) {\r\n          socketRef.current?.send(event.data);\r\n        }\r\n      };\r\n\r\n      mediaRecorder.start(100);\r\n\r\n      return () => {\r\n        mediaRecorder.stop();\r\n      };\r\n    }\r\n  }, [audioStream]);\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className={`transition-all duration-300 ${showDottedFace ? \"h-0 overflow-hidden\" : \"h-auto\"\r\n          }`}\r\n      >\r\n        <VideoBox video={videoRef} audio={audioRef} />\r\n      </div>\r\n      <div className=\"flex flex-col items-center\">\r\n        {!isAvatarVisible ? (\r\n          <button\r\n            onClick={handleStart}\r\n            disabled={isLoading}\r\n            className={cn(\r\n              \"w-full h-[52px] mt-4 disabled:bg-[#343434] disabled:text-white disabled:hover:rounded-[100px] bg-simliblue text-white py-3 px-6 rounded-[100px] transition-all duration-300 hover:text-black hover:bg-white hover:rounded-sm\",\r\n              \"flex justify-center items-center\"\r\n            )}\r\n          >\r\n            {isLoading ? (\r\n              <IconSparkleLoader className=\"h-[20px] animate-loader\" />\r\n            ) : (\r\n              <span className=\"font-abc-repro-mono font-bold w-[164px]\">\r\n                Test Interaction\r\n              </span>\r\n            )}\r\n          </button>\r\n        ) : (\r\n          <div className=\"flex items-center gap-4 w-full\">\r\n            <button\r\n              onClick={handleStop}\r\n              className={cn(\r\n                \"mt-4 group text-white flex-grow bg-red hover:rounded-sm hover:bg-white h-[52px] px-6 rounded-[100px] transition-all duration-300\"\r\n              )}\r\n            >\r\n              <span className=\"font-abc-repro-mono group-hover:text-black font-bold w-[164px] transition-all duration-300\">\r\n                Stop Interaction\r\n              </span>\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n      {error && (\r\n        <p className=\"mt-4 text-red-500 text-center\">{error}</p>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AvatarInteraction;","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\create-simli-app\\app\\components\\DottedFace.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\create-simli-app\\app\\components\\Logo.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'children' is defined but never used. Allowed unused args must match /^_/u.","line":13,"column":39,"nodeType":null,"messageId":"unusedVar","endLine":13,"endColumn":47}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\nimport Image from 'next/image';\r\nimport { usePathname, useRouter } from 'next/navigation';\r\nimport React from 'react';\r\nimport logo from '@/media/SimliLogoV2.svg';\r\nimport cn from '@/app/utils/TailwindMergeAndClsx';\r\n\r\ninterface Props {\r\n  className?: string;\r\n  children?: React.ReactNode;\r\n}\r\n\r\nconst SimliHeaderLogo = ({ className, children }: Props) => {\r\n  const router = useRouter();\r\n  const pathname = usePathname();\r\n\r\n  const handleClick = async () => {\r\n    console.log('Clicked Simli logo', pathname);\r\n    if (pathname === '/') {\r\n      window.location.reload();\r\n      return;\r\n    }\r\n    router.push('/');\r\n  };\r\n\r\n  return (\r\n    <div className={cn('fixed top-[32px] left-[32px] cursor-pointer', className)} onClick={handleClick}>\r\n      <Image src={logo} className='Logo' alt='Simli logo' />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SimliHeaderLogo;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\create-simli-app\\app\\components\\Navbar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\create-simli-app\\app\\components\\VideoBox.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/refs","severity":2,"message":"Error: Cannot access refs during render\n\nReact refs are values that are not needed for rendering. Refs should only be accessed outside of render, such as in event handlers or effects. Accessing a ref value (the `current` property) during render can cause your component not to update as expected (https://react.dev/reference/react/useRef).\n\nC:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\create-simli-app\\app\\components\\VideoBox.tsx:14:25\n  12 |             <video ref={props.video} autoPlay playsInline></video>\n  13 |             {/* eslint-disable-next-line react-hooks/refs */}\n> 14 |             <audio ref={props.audio} autoPlay ></audio>\n     |                         ^^^^^^^^^^^ Cannot access ref value during render\n  15 |         </div>\n  16 |     );\n  17 | }","line":14,"column":25,"nodeType":null,"endLine":14,"endColumn":36,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\create-simli-app\\app\\fonts\\fonts.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\create-simli-app\\app\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\create-simli-app\\app\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\create-simli-app\\app\\utils\\TailwindMergeAndClsx.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\create-simli-app\\media\\IconSparkleLoader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\create-simli-app\\next-env.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\create-simli-app\\next.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\create-simli-app\\postcss.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\create-simli-app\\server.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":51,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":75,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":8,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":8,"endColumn":33,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":27,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":27,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[910,913],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[910,913],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"prefer-const","severity":2,"message":"'keepAlive' is never reassigned. Use 'const' instead.","line":82,"column":7,"nodeType":"Identifier","messageId":"useConst","endLine":82,"endColumn":32,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":104,"column":67,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":104,"endColumn":70,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3534,3537],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3534,3537],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\create-simli-app\\tailwind.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\create-simli-app\\utils\\validateApiKeys.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\lib\\auth.ts","messages":[{"ruleId":"@typescript-eslint/ban-ts-comment","severity":1,"message":"Do not use \"@ts-nocheck\" because it alters compilation errors.","line":3,"column":1,"nodeType":"Line","messageId":"tsDirectiveComment","endLine":3,"endColumn":57}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// NextAuth Configuration\r\n// Email + password authentication\r\n// @ts-nocheck - NextAuth v5 beta has incompatible types\r\n\r\nimport NextAuth from 'next-auth';\r\nimport Credentials from 'next-auth/providers/credentials';\r\nimport { getUserByEmail, createUser } from './db';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nexport const { handlers, auth, signIn, signOut } = NextAuth({\r\n    trustHost: true,\r\n    secret: process.env.AUTH_SECRET || 'development-secret-change-in-production',\r\n    providers: [\r\n        Credentials({\r\n            name: 'credentials',\r\n            credentials: {\r\n                email: { label: 'Email', type: 'email' },\r\n                password: { label: 'Password', type: 'password' },\r\n                isSignUp: { label: 'Sign Up', type: 'text' }\r\n            },\r\n            async authorize(credentials) {\r\n                if (!credentials?.email || !credentials?.password) {\r\n                    throw new Error('Email and password are required');\r\n                }\r\n\r\n                const email = credentials.email as string;\r\n                const password = credentials.password as string;\r\n                const isSignUp = (credentials as { isSignUp?: string }).isSignUp === 'true';\r\n\r\n                if (isSignUp) {\r\n                    // Check if user already exists\r\n                    const existingUser = await getUserByEmail(email);\r\n                    if (existingUser) {\r\n                        throw new Error('User already exists');\r\n                    }\r\n\r\n                    // Create new user\r\n                    const newUser = await createUser({\r\n                        id: uuidv4(),\r\n                        email,\r\n                        password, // In production, hash with bcrypt\r\n                        createdAt: new Date()\r\n                    });\r\n\r\n                    return {\r\n                        id: newUser.id,\r\n                        email: newUser.email\r\n                    };\r\n                } else {\r\n                    // Login\r\n                    const user = await getUserByEmail(email);\r\n                    if (!user) {\r\n                        throw new Error('User not found');\r\n                    }\r\n\r\n                    // In production, compare hashed passwords\r\n                    if (user.password !== password) {\r\n                        throw new Error('Invalid password');\r\n                    }\r\n\r\n                    return {\r\n                        id: user.id,\r\n                        email: user.email\r\n                    };\r\n                }\r\n            }\r\n        })\r\n    ],\r\n    callbacks: {\r\n        async jwt({ token, user }) {\r\n            if (user) {\r\n                token.id = user.id;\r\n            }\r\n            return token;\r\n        },\r\n        async session({ session, token }) {\r\n            if (session.user && token.id) {\r\n                session.user.id = token.id as string;\r\n            }\r\n            return session;\r\n        }\r\n    },\r\n    pages: {\r\n        signIn: '/auth/login',\r\n        error: '/auth/login'\r\n    },\r\n    session: {\r\n        strategy: 'jwt'\r\n    }\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\lib\\conversation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\lib\\db.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\lib\\firecrawl.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":50,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":50,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1422,1425],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1422,1425],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\lib\\fishaudio.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\lib\\rag.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\lib\\scraper.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\lib\\simile.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\lib\\supabase.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\lib\\types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\manit\\.gemini\\antigravity\\playground\\quantum-kuiper\\src\\types\\next-auth.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
